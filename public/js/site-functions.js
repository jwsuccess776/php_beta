function cleanEmptyValues(e){var t="",a=e.split("&");for(i=0;i<a.length;i++){isEmpty(a[i].split("=")[1])||(t+=a[i]+"&")}return t.substring(0,t.length-1)}function remove_duplicates(e){for(var t={},a=e.length-1;a>=0;a--){var i=JSON.stringify(e[a]);t[i]?e.splice(a,1):t[i]=!0}return e}function isEmpty(e){return!e||0===e.length}function equalHeight(e){tallest=0,e.each(function(){thisHeight=$(this).height(),thisHeight>tallest&&(tallest=thisHeight)}),e.height(tallest)}function ShowJsSystemMessage(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=!1);var i="div_msg";t&&(i="div_error"),a&&(e='<div class="'+i+'"><ul><li>'+e+"</li></ul></div>"),$(".system_message").html('<a class="closeMsg" href="javascript:void(0);"></a>'+e).show()}function HideJsSystemMessage(){$(".system_message").hide()}function removeHash(){var e,t,a=window.location;"replaceState"in history?history.replaceState("",document.title,a.pathname+a.search):(e=document.body.scrollTop,t=document.body.scrollLeft,a.hash="",document.body.scrollTop=e,document.body.scrollLeft=t)}function reloadCaptcha(){$src=$("img.captcha").attr("src"),$("img.captcha").attr("src",$src+"?"+Math.random())}function showCssElementLoading(e,t){1==t?e.append('<div id="loader" class="loader">Loading...</div>'):e.html('<div id="loader" class="loader">Loading...</div>')}$(document).ready(function(){$("#cvv,#cc_cvv").prop("type","password"),$(".system_message").hide(),($(".system_message").find(".div_error").length>0||$(".system_message").find(".div_msg").length>0)&&$(".system_message").show()}),$(document).on("click",".closeMsg",function(){$(".div_error").length&&$(".div_error").html().indexOf("packages")>=0&&(date=new Date,date.setTime(date.getTime()+864e5),expires="; expires="+date.toGMTString(),document.cookie="subsription_expire=1"+expires+"; path=/"),$(".system_message").slideUp("slow",function(){$(".system_message").find(".div_error").remove(),$(".system_message").find(".div_msg").remove(),$(".system_message").hide()})});var setAutoHeightIframe=function(e){$(e).bind("load",function(){h=$(this)[0].contentWindow.document.body.scrollHeight,$(this).css("min-height",h+"px"),$(this).contents().find("form").bind("submit",function(){h=$(this).closest("body")[0].scrollHeight,$(e,window.parent.document).css("min-height",h+"px")})})};function generateUrl(e,t,a,i){if(i||(i=userwebroot),1==url_rewriting_enabled){var n=i+e+"/"+t;if(a){for(x in a)a[x]=encodeURIComponent(a[x]);n+="/"+a.join("/")}return n}n=i+"index.php?url="+e+"/"+t;if(a){for(x in a)a[x]=encodeURIComponent(a[x]);n+="/"+a.join("/")}return n}function showHtmlElementLoading(e){e.html('<div class="center-display"><img src="'+webroot+'images/ajax-loader-6.gif"></div>')}function showHtmlElementLoadingSmall(e){e.html('<div class="center-display"><img src="'+webroot+'images/loader.jpg"></div>')}function popupwindow(e,t,a,i){var n=screen.width/2-a/2,o=screen.height/2-i/2;return window.open(e,"","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width="+a+",height="+i+",top="+o+",left="+n)}function getURLVar(e){var t=[],a=String(document.location).split("?");if(a[1]){var n=a[1].split("&");for(i=0;i<n.length;i++){var o=n[i].split("=");o[0]&&o[1]&&(t[o[0]]=o[1])}return t[e]?t[e]:""}}function getUrlParam(){var e="",t=(String(document.location),String(document.location).split(document.domain+webroot));t[1]&&(e=String(t[1]).split("?")[0]);return e}function redirectUserLoggedin(){null!=$.redirect_url&&$.redirect_url.length>0?window.location.href=$.redirect_url:self==top?window.location.href=generateUrl("user","redirect"):parent==top&&(window.parent.location.href=generateUrl("user","redirect"))}$(function(){$(document).on("click","a[rel=ajax_page]",function(){return loadList($(this).attr("href"),$(this).parent().parent().attr("lang")),!1})});var loadList=function(e,t){el=$("#"+t),showCssElementLoading(el),$("#"+t).load(e)};$(function(){$(document).on("click",'[data-dismiss="alert"]',function(){$(this).parent().hide()}),$("a[rel=search]").click(function(){$(".listing-search").toggle()}),$(document).on("click","a[rel=page]",function(){return loadList($(this).attr("href")),!1}),$('form[name="frmSearch"]').submit(function(){return loadList($.data_href),!1}),$(".date-pick").datetimepicker({timepicker:!1,format:"Y-m-d",formatDate:"Y-m-d",closeOnDateSelect:!0,scrollMonth:!1,scrollInput:!1}),$(document).on("click","btn_cancel",function(){$(".listing-search").hide(),$("#form-div").html("")}),$.data_href=$("#listing-div").attr("data-href"),null!=$.data_href&&""!=$.data_href&&loadList($.data_href),onload_custom()});loadList=function(e){el=$("#listing-div"),$.page_href=e,showHtmlElementLoading(el),frm=$('form[name="frmSearch"]');var t=frm.serialize();callAjax(e,t+="&outmode=json",function(e){el.html(e)})};var $image,ajaxloadList=function(e,t){el=$("#"+t),$("#"+t).load(e)},reloadList=function(){loadList($.page_href)},onload_custom=function(){};function trim(e){return e&&"string"==typeof e?e.replace(/^[\s]+/,"").replace(/[\s]+$/,"").replace(/[\s]{2,}/," "):null}function applyRemoveCssClass(){$.each($(".listselection"),function(e,t){var a=$(this).find("li");$(this).parent().parent().parent().parent().find(".listButton").removeClass("activebtn"),a.hasClass("listselect")&&$(this).parent().parent().parent().parent().find(".listButton").addClass("activebtn")})}function add_ajax_list(e,t){var a=$(this);if(!a.data("requestRunning")){a.data("requestRunning",!0),HideJsSystemMessage();var i=generateUrl("common","check_ajax_user_logged_in");$.ajax({url:i,async:!1}).done(function(i){if(1==i){if(t.validate(),!t.isValid())return;var n=getFrmData(e),o=get_query_var(n+="&outmode=json&is_ajax_request=yes","product_id"),s=get_query_var(n,"random_id");el=$("#frmList"+s).parent().parent(),showHtmlElementLoadingSmall(el),callAjax(generateUrl("common","create_list_item",[]),n,function(e){a.data("requestRunning",!1),ShowJsSystemMessage(parseJsonData(e).display_message);var t=$("#product_"+o).attr("href");$.ajax({url:t,async:!1}).done(function(e){el.html(e),applyRemoveCssClass()})})}else login_popupbox();a.data("requestRunning",!1)})}}function get_query_var(e,t){var a=t+"=([^&]+)";if(!new RegExp(a).test(e))return!1;var i=new RegExp(a);return unescape(e.match(i)[1])}function filterRecords(e){var t=$("#listing-div").attr("data-href"),a=[];$("input:checkbox[name=brands]:checked").each(function(){a.push($(this).val())}),a.length&&(t=t+"&brand="+[a]);var i=[];$("input:checkbox[name=price_range]:checked").each(function(){i.push($(this).val())}),i.length&&(t=t+"&price_range="+[i]);var n=[];$("input:checkbox[name=shop_location]:checked").each(function(){n.push($(this).val())}),n.length&&(t=t+"&shop_loc="+[n]);var o=[];$("input:checkbox[name=ships_to]:checked").each(function(){o.push($(this).val())}),o.length&&(t=t+"&ships_to="+[o]),$("input:checkbox[name=out_of_stock]:checked").each(function(){t+="&out_of_stock=1"});var s=[];$("input:checkbox[name=condition]:checked").each(function(){s.push($(this).val())}),1!=s.length&&2!=s.length||(t=t+"&condition="+[s]),$("input:checkbox[name=free_shipping]:checked").each(function(){t+="&property=prod_ship_free"});var r=$("#sortby").val();if(void 0!==r){var l=r.split("_");t=t+"&sort_by="+l[0]+"&sort_order="+l[1]}var c=$(".brand_categories").filter(".selected_link").attr("id");return void 0!==c&&(t=t+"&category="+c),$(".jscroll-added").remove(),void 0===e&&refreshTable(t),t}function refreshTable(e){var t=$("#listing-div");showCssElementLoading(t),t.load(e,function(){t.data("jscroll",null),t.jscroll({autoTrigger:!1})})}function login_popupbox(){jQuery.magnificPopup.open({items:[{src:generateUrl("user","login_popup"),preloader:!1,type:"ajax"}]})}function toggleDisabled(e,t){try{e.disabled=t}catch(e){}try{if(e.childNodes&&e.childNodes.length>0)for(var a=0;a<e.childNodes.length;a++)toggleDisabled(e.childNodes[a],t)}catch(e){}}function loadStates(e,t){return cid=parseInt(e.value),!(isNaN(cid)||cid<1)&&(callAjax(generateUrl("common","loadDropDown",[cid,"states"],webroot),"a=1",function(a){var i=parseJsonData(a);if(!1===i)return!1;var n=$("#ua_state");return n.length<1&&(n=$(e).parents("form:first").find('select[name="ua_state"]')),n.html(""),$.each(i,function(e,t){n.append('<option value="'+e+'">'+t+"</option>")}),void 0!==t&&null!=t&&0!=t&&n.val(t),!1}),!1)}function popupImage(e){var t=e.files[0],a=(t.size,[".jpg",".jpeg",".gif",".png"]),i=t.name;if(i.length>0){for(var n=!1,o=0;o<a.length;o++){var s=a[o];if(i.substr(i.length-s.length,s.length).toLowerCase()==s.toLowerCase()){n=!0;break}}if(!n)return ShowJsSystemMessage(js_error_file_extensions.replace("{file_name}",t.name).replace("{allowed_extensions}",a.join(", ")),!0,!0),!1}$.magnificPopup.open({items:{src:'<div id="loader" class="loader">Loading...</div>'}}),wid=$(window).width(),wid>767?wid=500:wid=280;$("#avatar-action").val("demo_avatar"),$("#frmProfile").ajaxSubmit({delegation:!0,success:function(e){if("1"==(e=$.parseJSON(e)).status){$("#avatar-action").val("avatar");$.magnificPopup.open({items:{src:'<div class="img-container "><img alt="Picture" src="" class="img_responsive" id="new-img" /></div><div class="aligncenter popup_buttons"><a href="#" class="btn blue small icn-svg" title="'+$("#rotate_left").val()+'" data-option="-90" data-method="rotate">'+$("#rotate_left").val()+'</a>&nbsp;<a onclick=sumbmitProfileImage(); href="#" class="btn green small icn-svg">'+$("#update_profile_img").val()+'</a>&nbsp;<a href="#" class="btn blue small icn-svg" title="'+$("#rotate_right").val()+'" data-option="90" data-method="rotate" type="button">'+$("#rotate_right").val()+"</a></div>"}}),$("#new-img").attr("src",e.msg),$("#new-img").width(wid),cropImage($("#new-img"))}else $.magnificPopup.open({items:{src:'<div class="img-container marginTop20"><div class="div_error"><ul><li>'+e.msg+"</div></div>"}})}})}function cropImage(e){($image=e).cropper({aspectRatio:1,autoCropArea:.4545,guides:!1,highlight:!1,dragCrop:!1,cropBoxMovable:!1,cropBoxResizable:!1,rotatable:!0,responsive:!0,crop:function(e){var t=['{"x":'+e.x,'"y":'+e.y,'"height":'+e.height,'"width":'+e.width,'"rotate":'+e.rotate+"}"].join();$("#img-data").val(t)},built:function(){$(this).cropper("zoom",.5)}})}function Slugify(e,t,a){e=e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");0==$("#"+a).val()&&$("#"+t).val(e)}function copyValue(e,t,a){0==$("#"+a).val()&&$("#"+t).val(e)}function getCookie(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}function validDate(e){var t=e.split("-"),a=new Date(t[0]+"/"+t[1]+"/"+t[2]);return!(!a||a.getMonth()+1!=t[1]||a.getDate()!=Number(t[2]))}function AddDaysToDate(e,t,a){if(validDate(e)){var i=new Date(e);return"D"==t?t=1:"W"==t?t=7:"M"==t&&(t=daysInMonth(i.getMonth()+1,i.getFullYear())),i.setDate(i.getDate()+parseInt(t)),i.getFullYear()+a+LPad(i.getMonth()+1,2)+a+LPad(i.getDate(),2)}}function daysInMonth(e,t){return new Date(t,e,0).getDate()}function LPad(e,t){return(e=e.toString()).length<t?LPad("0"+e,t):e}function ppc_track_impressions(){$(".ppc-campaign .thumb_impression").each(function(){var e=$(this),t=generateUrl("common","promotion_track_impressions",[],webroot);$.ajax({async:!0,type:"POST",url:t,data:"u="+$(this).attr("data-attr-id"),success:function(t){e.removeClass("thumb_impression")}})})}function open_demo_popup(){jQuery.magnificPopup.open({items:[{src:generateUrl("custom","request_demo",[],webroot),preloader:!1,type:"ajax"}]})}if(function(e){e.fn.serialize_without_blank=function(){var t,a=e([]);return this.find(":input").each(function(){var t=e(this);""!==e.trim(t.val())||t.is(":disabled")||(a.add(t),t.attr("disabled",!0))}),t=this.serialize(),a.removeAttr("disabled"),t}}(jQuery),$(function(){applyRemoveCssClass(),$(document).on("click",".toggleLink",function(){$(this).parent().siblings(".toggleWrap").slideToggle("slow")}),$(document).on("click",".favShop,.buttonfavshop",function(e){e.preventDefault();var t=$(this);if(!t.data("requestRunning")){HideJsSystemMessage(),t.data("requestRunning",!0);var a=t.attr("id").split("_"),i=a[1],n=a[0],o="id="+i;o+="&outmode=json&is_ajax_request=yes",callAjax(generateUrl("common","favourite_shop",[i]),o,function(e){t.data("requestRunning",!1);var a=parseJsonData(e);a.logged_in?("R"==a.action_performed&&t.hasClass("buttonfavshop")&&$("#"+n+"_"+i).parent().parent().hide(),t.attr("title",a.title),ShowJsSystemMessage(a.display_message,"",!0),t.toggleClass("active")):login_popupbox()})}}),$(document).on("click",".itemfav",function(e){var t=$(this);if(e.preventDefault(),!t.data("requestRunning")){HideJsSystemMessage(),t.data("requestRunning",!0);var a=t.attr("id").split("_"),i=a[1],n=(a[0],"id="+i);n+="&outmode=json&is_ajax_request=yes",callAjax(generateUrl("common","favourite_product",[i]),n,function(e){t.data("requestRunning",!1);var a=parseJsonData(e);if(a.logged_in){if(!1===a)return!1;"R"!=a.action_performed&&"A"!=a.action_performed||(ShowJsSystemMessage(a.display_message,"",!0),t.toggleClass("active"),t.attr("title",a.title))}else login_popupbox()})}}),$(document).on("mouseleave",".sectionList",function(e){return $(this).find(".listButton").removeClass("active"),$(this).find(".listcontainer").hide(),!1}),$(".ratings").raty({score:function(){return $(this).attr("data-score")},readOnly:!0,space:!1,width:100}),$(document).on("click",".listtem",function(e){var t=$(this);if(e.preventDefault(),!t.data("requestRunning")){HideJsSystemMessage();var a=t.attr("id"),i=t.attr("rel");el=$("#display-div"+i),showHtmlElementLoadingSmall(el),t.data("requestRunning",!0);var n="list_id="+a+"&prod="+i;n+="&outmode=json&is_ajax_request=yes",callAjax(generateUrl("common","add_remove_list_item",[]),n,function(e){t.data("requestRunning",!1);var a=parseJsonData(e);if(a.logged_in){ShowJsSystemMessage(a.display_message);var n=$("#product_"+i).attr("href");$.ajax({url:n,async:!1}).done(function(e){el.html(e),applyRemoveCssClass()})}else login_popupbox()})}}),$(document).on("blur",".check_username",function(e){var t=$(this);if(e.preventDefault(),!t.data("requestRunning")){el=$("#ajax_availability_username"),el.removeClass("availables").removeClass("not-availables"),showHtmlElementLoadingSmall(el),t.data("requestRunning",!0);var a=t.val(),i="username="+encodeURIComponent(a);i+="&outmode=json&is_ajax_request=yes",callAjax(generateUrl("user","check_username_availability",[],webroot),i,function(e){t.data("requestRunning",!1);var a=parseJsonData(e);1==a.check?el.removeClass("not-availables").addClass("availables"):2==a.check?el.removeClass("availables").addClass("not-availables"):el.removeClass("availables").removeClass("not-availables"),el.html(a.message)})}}),$(document).on("blur",".check_email",function(e){var t=$(this);if(e.preventDefault(),!t.data("requestRunning")){el=$("#ajax_availability_email"),el.removeClass("availables").removeClass("not-availables"),showHtmlElementLoadingSmall(el),t.data("requestRunning",!0);var a=t.val(),i="email="+encodeURIComponent(a);i+="&outmode=json&is_ajax_request=yes",callAjax(generateUrl("user","check_email_availability",[],webroot),i,function(e){t.data("requestRunning",!1);var a=parseJsonData(e);1==a.check?el.removeClass("not-availables").addClass("availables"):2==a.check?el.removeClass("availables").addClass("not-availables"):el.removeClass("availables").removeClass("not-availables"),el.html(a.message)})}}),$(document).on("click",".listView",function(e){e.preventDefault();var t=$(this);if(!t.data("requestRunning")){t.data("requestRunning",!0);var a=generateUrl("common","check_ajax_user_logged_in");$.ajax({url:a,async:!1}).done(function(e){if(1==e){t.toggleClass("active"),t.siblings(".listcontainer").slideToggle("600");var a=t.attr("href"),i=".display-div"+t.attr("id").split("_")[1];$.ajax({url:a,async:!1}).done(function(e){t.siblings(i).html(e),applyRemoveCssClass()})}else login_popupbox();t.data("requestRunning",!1)})}}),$(document).on("click",".ppc_promotion_click",function(e){e.preventDefault();var t=$(this);if(!t.data("requestRunning")){t.data("requestRunning",!0);var a=generateUrl("common","promotion_track_clicks",[],webroot);promotion_id=$(this).closest(".thumb_click").attr("data-attr-id"),callAjax(a,"u="+promotion_id,function(e){$(location).attr("href",t.attr("href"))})}}),$(document).on("click",".filter_brands,.price,.states,.filter_condition",function(e){e.preventDefault();var t=$(this);id=t.attr("id");var a=t.attr("rel");$("."+a+':checkbox[value="'+id+'"]').attr("checked",!1),filterRecords()}),$(document).on("click",".filter",function(e){e.preventDefault()})}),$.fn.clearForm=function(){return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();if("form"==t)return $(":input",this).clearForm();"text"==e||"password"==e||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t&&(this.selectedIndex=-1)})},function(e){e.fn.autocomplete=function(t){return this.each(function(){this.timer=null,this.items=new Array,e.extend(this,t),e(this).attr("autocomplete","off"),e(this).on("focus",function(){this.request()}),e(this).on("blur",function(e){setTimeout(function(e){e.hide(),e.clear()},200,this)}),e(this).on("keydown",function(e){switch(e.keyCode){case 27:case 9:this.hide(),this.clear();break;case 40:this.moveDown();break;default:times=0,this.request()}}),this.click=function(t){t.preventDefault(),value=e(t.target).parent().attr("data-value"),value&&this.items[value]&&this.select(this.items[value])},this.show=function(){var t=e(this).position();e(this).siblings("ul.dropdown-menu").css({top:t.top+e(this).outerHeight(),left:t.left}),e(this).siblings("ul.dropdown-menu").show()},this.clear=function(){e("ul.dropdown-menu").hide(),e.map([200,400,600,1e3,1500,2e3],function(t,a){setTimeout(function(){e(this).siblings("ul.dropdown-menu").hide()},t)})},this.hide=function(){e(this).siblings("ul.dropdown-menu").hide()},this.moveDown=function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},this.request=function(){clearTimeout(this.timer),this.timer=setTimeout(function(t){t.source(e(t).val(),e.proxy(t.response,t))},200,this)},this.response=function(t){if(html="",t.length){for(i=0;i<t.length;i++)this.items[t[i].value]=t[i];for(i=0;i<t.length;i++)t[i].category||(html+='<li data-value="'+t[i].value+'"><a href="#">'+t[i].label+"</a></li>");var a=new Array;for(i=0;i<t.length;i++)t[i].category&&(a[t[i].category]||(a[t[i].category]=new Array,a[t[i].category].name=t[i].category,a[t[i].category].item=new Array),a[t[i].category].item.push(t[i]));for(i in a)for(html+='<li class="dropdown-header">'+a[i].name+"</li>",j=0;j<a[i].item.length;j++)html+='<li  data-value="'+a[i].item[j].value+'"><a href="#">&nbsp;&nbsp;&nbsp;'+a[i].item[j].label+"</a></li>"}html?this.show():this.hide(),e(this).siblings("ul.dropdown-menu").html(html)},e(this).after('<ul class="dropdown-menu"></ul>'),e(this).siblings("ul.dropdown-menu").delegate("a","click",e.proxy(this.click,this))})}}(window.jQuery),$(document).ready(function(){$("#search_keyword").devbridgeAutocomplete({minChars:2,lookup:function(e,t){$.ajax({url:generateUrl("common","search_producttags_autocomplete"),data:{keyword:encodeURIComponent(e)},dataType:"json",type:"post",success:function(e){t(e)}})},triggerSelectOnValidInput:!1,onSelect:function(e){$("#frmSiteSearch").submit()}})}),$(function(){$(document.body).on("click","[data-method]",function(){var e,t,a=$(this).data();if(a.method){if(void 0!==(a=$.extend({},a)).target&&(e=$(a.target),void 0===a.option))try{a.option=JSON.parse(e.val())}catch(e){console.log(e.message)}if(t=$image.cropper(a.method,a.option),"getCroppedCanvas"===a.method&&$("#getCroppedCanvasModal").modal().find(".modal-body").html(t),$.isPlainObject(t)&&e)try{e.val(JSON.stringify(t))}catch(e){console.log(e.message)}}})}),$(function(){var e={mode:"toggle",limit:500};$.fn.viewMore=function(t){$.extend(e,t),$(this).html(),$(this).each(function(){var t=$(this).html().substr(e.limit,$(this).html().length);$(this).html().length>e.limit+50&&($(this).html($(this).html().substr(0,e.limit)),$(this).append("<span style='display:none' class='read_more'>"+t+"</span>"),$(this).append("<span class='read_more_toggle link'>.. Read More</span>"))})},$(document).on("click",".read_more_toggle",function(){$(this).parent().find(".read_more").toggle(),$(this).parent().find(".read_more").is(":visible")?$(this).text(".. Read Less"):$(this).text(".. Read More")})}),$(document).ready(function(){$(".accordion h4:first").addClass("active"),$(".accordion h4:first").addClass("active"),$(".accordion .ans:not(:first)").hide(),$(" .accordion  h4").click(function(){$(this).next(".ans").slideToggle("slow","linear").siblings(".ans:visible").slideUp("slow","linear"),$(this).toggleClass("active"),$(this).siblings("h4").removeClass("active")}),$(".accordion .sub_cat:not(:first)").hide(),$(".accordion .accordion_icon").click(function(){$(this).next(".sub_cat").slideToggle("slow","linear").siblings(".sub_cat:visible").slideUp("slow","linear"),$(this).toggleClass("active"),$(this).siblings(".accordion_icon").removeClass("active")}),$(".accordion .accordion-heading:first").addClass("active"),$(".accordion .ans:not(:first)").hide(),$(".accordion .accordion-heading").click(function(){$(this).next(".ans").slideToggle("slow","linear").siblings(".ans:visible").slideUp("slow","linear"),$(this).toggleClass("active"),$(this).siblings(".accordion-heading").removeClass("active")}),$(".round_sectn .sectnTop").click(function(){$(this).toggleClass("active"),$(window).width()<1001&&$(this).siblings(".round_sectn .sectnMiddle").slideToggle("slow","linear")})}),$(document).ready(function(){ppc_track_impressions()}),$(document).ready(function(){$("a[rel=fancy_popup_box]").on("click",function(e){e.preventDefault();var t=$(this).attr("href"),a=generateUrl("common","check_ajax_user_logged_in");$.ajax({url:a,async:!1}).done(function(e){1==e?$.magnificPopup.open({items:{src:t},type:"ajax",alignTop:!0,overflowY:"scroll"}):login_popupbox()})})}),$(document).ready(function(){$("body").on("click",".request-demo",function(){open_demo_popup()})}),$(window).width()>1050){function sticky_relocate(){var e=$(window).scrollTop(),t=$(".fixed__panel").offset().top-110,a=$("#fixed__panel");if(e+a.height()>=$(".footer").offset().top-40){var i=-40-(e+a.height()-($(".footer").offset().top-40));a.css("top",i+"px")}else a.css("top","110px"),e>t?$("#fixed__panel").addClass("stick"):$("#fixed__panel").removeClass("stick")}$(function(){$("#fixed__panel").length})}function callAjax(e,t,a){if(callAjaxExecuting)addToCallAjaxQ(e,t,a);else{callAjaxExecuting=!0;var i=this,n=window.location.href.toLowerCase().indexOf("//www.")>0?"http://www.":"http://";e=e.replace("http://",n);window.XMLHttpRequest?i.xmlHttpReq=new XMLHttpRequest:window.ActiveXObject&&(i.xmlHttpReq=new ActiveXObject("Microsoft.XMLHTTP")),i.xmlHttpReq.open("POST",e,!0),i.xmlHttpReq.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.xmlHttpReq.onreadystatechange=function(){if(4==i.xmlHttpReq.readyState){if(callAjaxExecuting=!1,200!=i.xmlHttpReq.status&&!userLeavingPage)return void $.mbsmessage("Connection Error.....\nPlease Check your Internet Connection.");if('{"status":0,"msg":"Your Session seems to have expired. Please try refreshing the page to login again."}'==$.trim(i.xmlHttpReq.responseText))return alert("Your Session seems to have expired. Please try refreshing the page to login again."),void a("");a(i.xmlHttpReq.responseText),setTimeout("executeFromCallAjaxQ();",5)}else $.mbsmessage.close()},i.xmlHttpReq.send(t)}}function formatSizeUnits(e){return e>=1073741824?e=(e/1073741824).toFixed(2)+" GB":e>=1048576?e=(e/1048576).toFixed(2)+" MB":e>=1024?e=(e/1024).toFixed(2)+" KB":e>1?e+=" bytes":1==e?e+=" byte":e="0 byte",e}function htmlEncode(e){return $("<textarea/>").text(e).html()}function htmlDecode(e){return $("<textarea/>").html(e).text()}function loadDatePicker(e){e.datetimepicker({timepicker:!1,format:"Y-m-d",formatDate:"Y-m-d",minDate:new Date,onSelectDate:function(t){e.parent().find("ul").remove()}})}function loadTimePicker(e){e.datetimepicker({datepicker:!1,format:"H:i",allowTimes:["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30"],step:"30",onSelectTime:function(t){e.parent().find("ul").remove()}})}$("body").on("click",".pop-us-tabs ul li a",function(){if(!$(this).hasClass("dnc")){var e=$(this).attr("rel");"tabs_1"==e?$("#demo_btn_submit").prop("value","Next"):$("#demo_btn_submit").prop("value","Confirm Demo request"),$(".tabs_content").removeClass("show_tab_content"),$("#"+e).addClass("show_tab_content"),$(".pop-us-tabs ul li").removeClass("active"),$(this).parent().addClass("active")}}),$(".pop-us-tabs ul li a").last().addClass("tab_last"),$("body").on("focus","#preferred_demo_date_first",function(){loadDatePicker($(this))}),$("body").on("focus","#preferred_demo_date_second",function(){loadDatePicker($(this))}),$("body").on("focus","#preferred_demo_date_third",function(){loadDatePicker($(this))}),$("body").on("focus","#preferred_demo_time_first",function(){loadTimePicker($(this))}),$("body").on("focus","#preferred_demo_time_second",function(){loadTimePicker($(this))}),$("body").on("focus","#preferred_demo_time_third",function(){loadTimePicker($(this))});var chk=!1;function validateRequestForm(e,t){if(HideJsSystemMessage(),t.validate(),!t.isValid()){var a="";return $('a[rel="tabs_2"]').addClass("dnc"),$("#frmRequestDemo").each(function(){var e=$(this).find(".error").closest(".tabs_content").attr("id");e.length>0&&(a=e)}),$(".tabs_content").removeClass("show_tab_content"),$("#"+a).addClass("show_tab_content"),$(".pop-us-tabs ul li").removeClass("active"),$('a[rel="'+a+'"]').parent().addClass("active"),$('a[rel="'+a+'"]').removeClass("dnc"),"tabs_2"==a&&($("#demo_btn_submit").prop("value","Confirm Demo request"),0==chk&&setTimeout(function(){$("#tabs_2").find("ul").empty()},500),chk=!0,loadDatePicker($("#preferred_demo_date_first")),loadDatePicker($("#preferred_demo_date_second")),loadDatePicker($("#preferred_demo_date_third")),loadTimePicker($("#preferred_demo_time_first")),loadTimePicker($("#preferred_demo_time_second")),loadTimePicker($("#preferred_demo_time_third"))),!1}var i=$(this);i.data("requestRunning",!0);var n=getFrmData(e);return n+="&outmode=json&is_ajax_request=yes",callAjax(generateUrl("custom","request_demo",[],webroot),n,function(e){i.data("requestRunning",!1);var t=parseJsonData(e);ShowJsSystemMessage(t.msg),t.status&&($("#frmRequestDemo").clearForm(),$.magnificPopup.close())}),!1}function loadStatesNew(e,t,a,i){return cid=parseInt(e.value),!(isNaN(cid)||cid<1)&&(callAjax(generateUrl("common","loadDropDown",[cid,"states"],webroot),"a=1",function(n){var o=parseJsonData(n);if(!1===o)return!1;var s=$("#ua_state");return s.length<1&&(s=$(e).parents("form:first").find('select[name="ua_state"]')),s.html(""),$.each(o,function(e,t){s.append('<option value="'+e+'">'+t+"</option>")}),void 0!==t&&null!=t&&0!=t&&s.val(t),loadCities(a,i),!1}),!1)}function loadCities(e,t){return sid=parseInt(e.value),!(isNaN(sid)||sid<1)&&(callAjax(generateUrl("common","loadDropDown",[sid,"cities"],webroot),"a=1",function(a){var i=parseJsonData(a);if(!1===i)return!1;var n=$("#ua_city");return n.length<1&&(n=$(e).parents("form:first").find('select[name="ua_city"]')),n.html(""),n.append('<option value="">City Town</option>'),$.each(i,function(e,t){n.append('<option value="'+e+'">'+t+"</option>")}),void 0!==t&&null!=t&&0!=t&&n.val(t),!1}),!1)}