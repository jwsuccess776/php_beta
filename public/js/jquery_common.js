!function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,i=e.ui.mouse.prototype,a=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(e){!n&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},i._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},i._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},i._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),a.call(t)},i._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),o.call(t)}}}(jQuery),function(e){var t={init:function(n){return this.each(function(){var i=this,a=e(i).empty();i.opt=e.extend(!0,{},e.fn.raty.defaults,n),a.data("settings",i.opt),i.opt.number=t.between(i.opt.number,0,20),"/"!=i.opt.path.substring(i.opt.path.length-1,i.opt.path.length)&&(i.opt.path+="/"),"function"==typeof i.opt.score&&(i.opt.score=i.opt.score.call(i)),i.opt.score&&(i.opt.score=t.between(i.opt.score,0,i.opt.number));for(var o=1;o<=i.opt.number;o++)e("<img />",{src:i.opt.path+(!i.opt.score||i.opt.score<o?i.opt.starOff:i.opt.starOn),alt:o,title:o<=i.opt.hints.length&&null!==i.opt.hints[o-1]?i.opt.hints[o-1]:o}).appendTo(i),i.opt.space&&a.append(o<i.opt.number?"&#160;":"");i.stars=a.children('img:not(".raty-cancel")'),i.score=e("<input />",{type:"hidden",name:i.opt.scoreName}).appendTo(i),i.opt.score&&i.opt.score>0&&(i.score.val(i.opt.score),t.roundStar.call(i,i.opt.score)),i.opt.iconRange&&t.fill.call(i,i.opt.score),t.setTarget.call(i,i.opt.score,i.opt.targetKeep);var s=i.opt.space?4:0,r=i.opt.width||i.opt.number*i.opt.size+i.opt.number*s;i.opt.cancel&&(i.cancel=e("<img />",{src:i.opt.path+i.opt.cancelOff,alt:"x",title:i.opt.cancelHint,class:"raty-cancel"}),"left"==i.opt.cancelPlace?a.prepend("&#160;").prepend(i.cancel):a.append("&#160;").append(i.cancel),r+=i.opt.size+s),i.opt.readOnly?(t.fixHint.call(i),i.cancel&&i.cancel.hide()):(a.css("cursor","pointer"),t.bindAction.call(i)),a.css("width",r)})},between:function(e,t,n){return Math.min(Math.max(parseFloat(e),t),n)},bindAction:function(){var n=this,i=e(n);i.mouseleave(function(){var e=n.score.val()||void 0;t.initialize.call(n,e),t.setTarget.call(n,e,n.opt.targetKeep),n.opt.mouseover&&n.opt.mouseover.call(n,e)});var a=n.opt.half?"mousemove":"mouseover";n.opt.cancel&&n.cancel.mouseenter(function(){e(this).attr("src",n.opt.path+n.opt.cancelOn),n.stars.attr("src",n.opt.path+n.opt.starOff),t.setTarget.call(n,null,!0),n.opt.mouseover&&n.opt.mouseover.call(n,null)}).mouseleave(function(){e(this).attr("src",n.opt.path+n.opt.cancelOff),n.opt.mouseover&&n.opt.mouseover.call(n,n.score.val()||null)}).click(function(e){n.score.removeAttr("value"),n.opt.click&&n.opt.click.call(n,null,e)}),n.stars.bind(a,function(a){var o=parseInt(this.alt,10);if(n.opt.half){var s=parseFloat((a.pageX-e(this).offset().left)/n.opt.size),r=s>.5?1:.5;o=parseFloat(this.alt)-1+r,t.fill.call(n,o),n.opt.precision&&(o=o-r+s),t.showHalf.call(n,o)}else t.fill.call(n,o);i.data("score",o),t.setTarget.call(n,o,!0),n.opt.mouseover&&n.opt.mouseover.call(n,o,a)}).click(function(e){n.score.val(n.opt.half||n.opt.precision?i.data("score"):this.alt),n.opt.click&&n.opt.click.call(n,n.score.val(),e)})},cancel:function(n){return e(this).each(function(){var i=this;if(!0===e(i).data("readonly"))return this;n?t.click.call(i,null):t.score.call(i,null),i.score.removeAttr("value")})},click:function(n){return e(this).each(function(){if(!0===e(this).data("readonly"))return this;t.initialize.call(this,n),this.opt.click?this.opt.click.call(this,n):t.error.call(this,'you must add the "click: function(score, evt) { }" callback.'),t.setTarget.call(this,n,!0)})},error:function(t){e(this).html(t),e.error(t)},fill:function(e){for(var t,n,i,a=this,o=a.stars.length,s=0,r=1;r<=o;r++)t=a.stars.eq(r-1),a.opt.iconRange&&a.opt.iconRange.length>s?(n=a.opt.iconRange[s],i=a.opt.single?r==e?n.on||a.opt.starOn:n.off||a.opt.starOff:r<=e?n.on||a.opt.starOn:n.off||a.opt.starOff,r<=n.range&&t.attr("src",a.opt.path+i),r==n.range&&s++):(i=a.opt.single?r==e?a.opt.starOn:a.opt.starOff:r<=e?a.opt.starOn:a.opt.starOff,t.attr("src",a.opt.path+i))},fixHint:function(){var t=e(this),n=parseInt(this.score.val(),10),i=this.opt.noRatedMsg;!isNaN(n)&&n>0&&(i=n<=this.opt.hints.length&&null!==this.opt.hints[n-1]?this.opt.hints[n-1]:n),t.data("readonly",!0).css("cursor","default").attr("title",i),this.score.attr("readonly","readonly"),this.stars.attr("title",i)},getScore:function(){var t,n=[];return e(this).each(function(){t=this.score.val(),n.push(t?parseFloat(t):void 0)}),n.length>1?n:n[0]},readOnly:function(n){return this.each(function(){var i=e(this);if(i.data("readonly")===n)return this;this.cancel&&(n?this.cancel.hide():this.cancel.show()),n?(i.unbind(),i.children("img").unbind(),t.fixHint.call(this)):(t.bindAction.call(this),t.unfixHint.call(this)),i.data("readonly",n)})},reload:function(){return t.set.call(this,{})},roundStar:function(e){var t=(e-Math.floor(e)).toFixed(2);if(t>this.opt.round.down){var n=this.opt.starOn;t<this.opt.round.up&&this.opt.halfShow?n=this.opt.starHalf:t<this.opt.round.full&&(n=this.opt.starOff),this.stars.eq(Math.ceil(e)-1).attr("src",this.opt.path+n)}},score:function(){return arguments.length?t.setScore.apply(this,arguments):t.getScore.call(this)},set:function(t){return this.each(function(){var n=e(this),i=n.data("settings"),a=n.clone().removeAttr("style").insertBefore(n);n.remove(),a.raty(e.extend(i,t))}),e(this.selector)},setScore:function(n){return e(this).each(function(){if(!0===e(this).data("readonly"))return this;t.initialize.call(this,n),t.setTarget.call(this,n,!0)})},setTarget:function(n,i){if(this.opt.target){var a=e(this.opt.target);0==a.length&&t.error.call(this,"target selector invalid or missing!");var o=n;o=i&&void 0!==o?"hint"==this.opt.targetType?null===o&&this.opt.cancel?this.opt.cancelHint:this.opt.hints[Math.ceil(o-1)]:this.opt.precision?parseFloat(o).toFixed(1):parseInt(o,10):this.opt.targetText,this.opt.targetFormat.indexOf("{score}")<0&&t.error.call(this,'template "{score}" missing!'),null!==n&&(o=this.opt.targetFormat.toString().replace("{score}",o)),a.is(":input")?a.val(o):a.html(o)}},showHalf:function(e){var t=(e-Math.floor(e)).toFixed(1);t>0&&t<.6&&this.stars.eq(Math.ceil(e)-1).attr("src",this.opt.path+this.opt.starHalf)},initialize:function(e){e=e?t.between(e,0,this.opt.number):0,t.fill.call(this,e),e>0&&(this.opt.halfShow&&t.roundStar.call(this,e),this.score.val(e))},unfixHint:function(){for(var t=0;t<this.opt.number;t++)this.stars.eq(t).attr("title",t<this.opt.hints.length&&null!==this.opt.hints[t]?this.opt.hints[t]:t);e(this).data("readonly",!1).css("cursor","pointer").removeAttr("title"),this.score.attr("readonly","readonly")}};e.fn.raty=function(n){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist!"):t.init.apply(this,arguments)},e.fn.raty.defaults={cancel:!1,cancelHint:"cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseover:void 0,noRatedMsg:"not rated yet",number:5,path:webroot+"images/",precision:!1,round:{down:.25,full:.6,up:.76},readOnly:!1,score:void 0,scoreName:"score",single:!1,size:16,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",target:void 0,targetFormat:"{score}",targetKeep:!1,targetText:"",targetType:"hint",width:void 0}}(jQuery),function(e){e.jscroll={defaults:{debug:!1,autoTrigger:!0,autoTriggerUntil:!1,loadingHtml:"<small>Loading...</small>",padding:0,nextSelector:"a:last",contentSelector:"",pagingSelector:"",callback:!1}};var t=function(t,n){var i=t.data("jscroll"),a="function"==typeof n?{callback:n}:n,o=e.extend({},e.jscroll.defaults,a,i||{}),s="visible"===t.css("overflow-y"),r=t.find(o.nextSelector).first(),l=e(window),c=e("body"),u=s?l:t,d=e.trim(r.attr("href")+" "+o.contentSelector);function f(){t.find(".jscroll-inner").length||t.contents().wrapAll('<div class="jscroll-inner" />')}function h(e){o.pagingSelector?e.closest(o.pagingSelector).hide():e.parent().not(".jscroll-inner,.jscroll-added").addClass("jscroll-next-parent").hide().length||e.wrap('<div class="jscroll-next-parent" />').parent().hide()}function g(){return u.unbind(".jscroll").removeData("jscroll").find(".jscroll-inner").children().unwrap().filter(".jscroll-added").children().unwrap()}function m(){f();var e=t.find("div.jscroll-inner").first(),n=t.data("jscroll"),i=parseInt(t.css("borderTopWidth")),a=isNaN(i)?0:i,r=parseInt(t.css("paddingTop"))+a,l=s?u.scrollTop():t.offset().top,c=e.length?e.offset().top:0,d=Math.ceil(l-c+u.height()+r);if(!n.waiting&&d+o.padding>=e.outerHeight())return y("info","jScroll:",e.outerHeight()-d,"from bottom. Loading next request..."),v()}function p(){var e=t.find(o.nextSelector).first();o.autoTrigger&&(!1===o.autoTriggerUntil||o.autoTriggerUntil>0)?(h(e),c.height()<=l.height()&&m(),u.unbind(".jscroll").bind("scroll.jscroll",function(){return m()}),o.autoTriggerUntil>0&&o.autoTriggerUntil--):(u.unbind(".jscroll"),e.bind("click.jscroll",function(){return h(e),v(),!1}))}function v(){var n=t.find("div.jscroll-inner").first(),i=t.data("jscroll");return i.waiting=!0,n.append('<div class="jscroll-added" />').children(".jscroll-added").last().html('<div class="jscroll-loading">'+o.loadingHtml+"</div>"),t.animate({scrollTop:n.outerHeight()},0,function(){n.find("div.jscroll-added").last().load(i.nextHref,function(n,a,s){if("error"===a)return g();var r=e(this).find(o.nextSelector).first();i.waiting=!1,i.nextHref=!!r.attr("href")&&e.trim(r.attr("href")+" "+o.contentSelector),e(".jscroll-next-parent",t).remove(),function(e){(e=e||t.data("jscroll"))&&e.nextHref?p():(y("warn","jScroll: nextSelector not found - destroying"),g())}(),o.callback&&o.callback.call(this),y("dir",i)})})}function y(e){if(o.debug&&"object"==typeof console&&("object"==typeof e||"function"==typeof console[e]))if("object"==typeof e){var t=[];for(var n in e)"function"==typeof console[n]?(t=e[n].length?e[n]:[e[n]],console[n].apply(console,t)):console.log.apply(console,t)}else console[e].apply(console,Array.prototype.slice.call(arguments,1))}return t.data("jscroll",e.extend({},i,{initialized:!0,waiting:!1,nextHref:d})),f(),function(){var t=e(o.loadingHtml).filter("img").attr("src");if(t){var n=new Image;n.src=t}}(),p(),e.extend(t.jscroll,{destroy:g}),t};e.fn.jscroll=function(n){return this.each(function(){var i=e(this),a=i.data("jscroll");if(!a||!a.initialized)new t(i,n)})}}(jQuery),function(e){var t;("undefined"!=typeof window&&null!==window?window:global).BarRating=t=function(){function t(){this.show=function(){var t,n,i,a,o=e(this.elem),s=this.options;o.data("barrating")||(a=s.initialRating?e('option[value="'+s.initialRating+'"]',o):e("option:selected",o),o.data("barrating",{currentRatingValue:a.val(),currentRatingText:a.text(),originalRatingValue:a.val(),originalRatingText:a.text()}),t=e("<div />",{class:"br-widget"}).insertAfter(o),o.find("option").each(function(){var n,i,a,o;(n=e(this).val())&&(i=e(this).text(),a=e("<a />",{href:"#","data-rating-value":n,"data-rating-text":i}),o=e("<span />",{text:s.showValues?i:""}),t.append(a.append(o)))}),s.showSelectedRating&&t.append(e("<div />",{text:"",class:"br-current-rating"})),o.data("barrating").deselectable=!o.find("option:first").val(),i=s.reverse?"nextAll":"prevAll",s.reverse&&t.addClass("br-reverse"),s.readonly&&t.addClass("br-readonly"),t.on("ratingchange",function(t,n,i){n=n||o.data("barrating").currentRatingValue,i=i||o.data("barrating").currentRatingText,o.find('option[value="'+n+'"]').prop("selected",!0),s.showSelectedRating&&e(this).find(".br-current-rating").text(i)}).trigger("ratingchange"),t.on("updaterating",function(t){e(this).find('a[data-rating-value="'+o.data("barrating").currentRatingValue+'"]').addClass("br-selected br-current")[i]().addClass("br-selected")}).trigger("updaterating"),(n=t.find("a")).on("touchstart",function(t){t.preventDefault(),t.stopPropagation(),e(this).click()}),s.readonly&&n.on("click",function(e){e.preventDefault()}),s.readonly||(n.on("click",function(a){var r,l,c=e(this);return a.preventDefault(),n.removeClass("br-active br-selected"),c.addClass("br-selected")[i]().addClass("br-selected"),r=c.attr("data-rating-value"),l=c.attr("data-rating-text"),c.hasClass("br-current")&&o.data("barrating").deselectable?(c.removeClass("br-selected br-current")[i]().removeClass("br-selected br-current"),r="",l=""):(n.removeClass("br-current"),c.addClass("br-current")),o.data("barrating").currentRatingValue=r,o.data("barrating").currentRatingText=l,t.trigger("ratingchange"),s.onSelect.call(this,o.data("barrating").currentRatingValue,o.data("barrating").currentRatingText),!1}),n.on({mouseenter:function(){var a=e(this);n.removeClass("br-active").removeClass("br-selected"),a.addClass("br-active")[i]().addClass("br-active"),t.trigger("ratingchange",[a.attr("data-rating-value"),a.attr("data-rating-text")])}}),t.on({mouseleave:function(){n.removeClass("br-active"),t.trigger("ratingchange").trigger("updaterating")}})),o.hide())},this.clear=function(){var t=e(this.elem),n=t.next(".br-widget");n&&t.data("barrating")&&(n.find("a").removeClass("br-selected br-current"),t.data("barrating").currentRatingValue=t.data("barrating").originalRatingValue,t.data("barrating").currentRatingText=t.data("barrating").originalRatingText,n.trigger("ratingchange").trigger("updaterating"),this.options.onClear.call(this,t.data("barrating").currentRatingValue,t.data("barrating").currentRatingText))},this.destroy=function(){var t=e(this.elem),n=t.next(".br-widget");if(n&&t.data("barrating")){var i=t.data("barrating").currentRatingValue,a=t.data("barrating").currentRatingText;t.removeData("barrating"),n.off().remove(),t.show(),this.options.onDestroy.call(this,i,a)}}}return t.prototype.init=function(t,n){return this,this.elem=n,this.options=e.extend({},e.fn.barrating.defaults,t)},t}(),e.fn.barrating=function(n,i){return this.each(function(){var a=new t;return e(this).is("select")||e.error("Sorry, this plugin only works with select fields."),a.hasOwnProperty(n)?(a.init(i,this),a[n]()):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.barrating"):(i=n,a.init(i,this),a.show())})},e.fn.barrating.defaults={initialRating:null,showValues:!1,showSelectedRating:!0,reverse:!1,readonly:!1,onSelect:function(e,t){},onClear:function(e,t){},onDestroy:function(e,t){}}}(jQuery),function(e,t){"use strict";var n={item:3,autoWidth:!1,slideMove:1,slideMargin:0,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,loop:!1,slideEndAnimatoin:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:400,vThumbWidth:0,thumbItem:10,pager:!0,gallery:!1,galleryMargin:0,thumbMargin:10,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onBeforeSlide:function(e,t){},onAfterSlide:function(e,t){},onBeforeNextSlide:function(e,t){},onBeforePrevSlide:function(e,t){}};e.fn.lightSlider=function(t){if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).lightSlider(t)}),this;var i={},a=e.extend(!0,{},n,t),o={},s=this;i.$el=this,"fade"===a.mode&&(a.vertical=!1);var r=s.children(),l=e(window).width(),c=null,u=0,d=0,f=!1,h=0,g="",m=0,p=!0===a.vertical?"height":"width",v=!0===a.vertical?"margin-bottom":"margin-right",y=0,b=0,x=0,w=0,T=null,S="ontouchstart"in document.documentElement,k=new Object;return k.chbreakpoint=function(){if(l=e(window).width(),a.responsive.length){if(!1===a.autoWidth)var t=a.item;if(l<a.responsive[0].breakpoint)for(var n=0;n<a.responsive.length;n++)l<a.responsive[n].breakpoint&&(a.responsive[n].breakpoint,c=a.responsive[n]);if(void 0!==c&&null!=c)for(n in c.settings)void 0!==o[n]&&null!=o[n]||(o[n]=a[n]),a[n]=c.settings[n];if(!e.isEmptyObject(o)&&l>a.responsive[0].breakpoint)for(n in o)a[n]=o[n];!1===a.autoWidth&&y>0&&x>0&&t!==a.item&&(m=Math.round(y/((x+a.slideMargin)*a.slideMove)))}},k.calSW=function(){!1===a.autoWidth&&(x=(h-(a.item*a.slideMargin-a.slideMargin))/a.item)},k.calWidth=function(e){var t=!0===e?g.find(".lslide").length:r.length;if(!1===a.autoWidth)d=t*(x+a.slideMargin);else{d=0;for(var n=0;n<t;n++)d+=parseInt(r.eq(n).width())+a.slideMargin}return d%1!=0&&(d+=1),d},(i={doCss:function(){return!(!a.useCSS||!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],t=document.documentElement,n=0;n<e.length;n++)if(e[n]in t.style)return!0}())},keyPress:function(){a.keyPress&&e(document).on("keyup.lightslider",function(e){e.preventDefault(),37===e.keyCode?(s.goToPrevSlide(),clearInterval(T)):39===e.keyCode&&(s.goToNextSlide(),clearInterval(T))})},controls:function(){a.controls&&(s.after('<div class="lSAction"><a class="lSPrev">'+a.prevHtml+'</a><a class="lSNext">'+a.nextHtml+"</a></div>"),a.autoWidth?k.calWidth(!1)<h&&g.find(".lSAction").hide():u<=a.item&&g.find(".lSAction").hide(),g.find(".lSAction a").on("click",function(t){t.preventDefault(),"lSPrev"===e(this).attr("class")?s.goToPrevSlide():s.goToNextSlide(),clearInterval(T)}))},initialStyle:function(){var e=this;"fade"===a.mode&&(a.autoWidth=!1,a.slideEndAnimatoin=!1),a.auto&&(a.slideEndAnimatoin=!1),a.autoWidth&&(a.slideMove=1,a.item=1),a.loop&&(a.slideMove=1,a.freeMove=!1),a.onBeforeStart.call(this,s),k.chbreakpoint(),s.addClass("lightSlider").wrap("<div class='lSSlideOuter "+a.addClass+"'><div class='lSSlideWrapper'></div></div>"),g=s.parent(".lSSlideWrapper"),!0===a.rtl&&g.parent().addClass("lSrtl"),a.vertical?(g.parent().addClass("vertical"),h=a.verticalHeight,g.css("height",h+"px")):h=s.outerWidth(),r.addClass("lslide"),!0===a.loop&&"slide"===a.mode&&(k.calSW(),k.clone=function(){if(k.calWidth(!0)>h){for(var t=0,n=0,i=0;i<r.length&&(n++,!((t+=parseInt(s.find(".lslide").eq(i).width())+a.slideMargin)>=h+a.slideMargin));i++);var o=!0===a.autoWidth?n:a.item;if(o<s.find(".clone.left").length)for(var l=0;l<s.find(".clone.left").length-o;l++)r.eq(l).remove();if(o<s.find(".clone.right").length)for(var c=r.length-1;c>r.length-1-s.find(".clone.right").length;c--)m--,r.eq(c).remove();for(i=s.find(".clone.right").length;i<o;i++)s.find(".lslide").eq(i).clone().removeClass("lslide").addClass("clone right").appendTo(s),m++;for(var u=s.find(".lslide").length-s.find(".clone.left").length;u>s.find(".lslide").length-o;u--)s.find(".lslide").eq(u-1).clone().removeClass("lslide").addClass("clone left").prependTo(s);r=s.children()}else r.hasClass("clone")&&(s.find(".clone").remove(),e.move(s,0))},k.clone()),k.sSW=function(){u=r.length,!0===a.rtl&&!1===a.vertical&&(v="margin-left"),!1===a.autoWidth&&r.css(p,x+"px"),r.css(v,a.slideMargin+"px"),d=k.calWidth(!1),s.css(p,d+"px"),!0===a.loop&&"slide"===a.mode&&!1===f&&(m=s.find(".clone.left").length)},k.calL=function(){r=s.children(),u=r.length},this.doCss()&&g.addClass("usingCss"),k.calL(),"slide"===a.mode?(k.calSW(),k.sSW(),!0===a.loop&&(y=e.slideValue(),this.move(s,y)),!1===a.vertical&&this.setHeight(s,!1,!0)):(this.setHeight(s,!0,!0),s.addClass("lSFade"),this.doCss()||r.not(".active").css("display","none")),!0===a.loop&&"slide"===a.mode?r.eq(m).addClass("active"):r.first().addClass("active")},pager:function(){var e=this;if(k.createPager=function(){w=(h-(a.thumbItem*a.thumbMargin-a.thumbMargin))/a.thumbItem;var t=g.find(".lslide"),n=g.find(".lslide").length,i=0,o="",r=0;for(i=0;i<n;i++){"slide"===a.mode&&(a.autoWidth?r+=(parseInt(t.eq(i).width())+a.slideMargin)*a.slideMove:r=i*((x+a.slideMargin)*a.slideMove));var l=t.eq(i*a.slideMove).attr("data-thumb");if(!0===a.gallery?o+='<li style="width:100%;'+p+":"+w+"px;"+v+":"+a.thumbMargin+'px"><a href="javascript:void(0)"><img src="'+l+'" /></a></li>':o+='<li><a href="javascript:void(0)">'+(i+1)+"</a></li>","slide"===a.mode&&r>=d-h-a.slideMargin){i+=1;var c=2;a.autoWidth&&(o+='<li><a href="javascript:void(0)">'+(i+1)+"</a></li>",c=1),i<c?(o=null,g.parent().addClass("noPager")):g.parent().removeClass("noPager");break}}var u=g.parent();if(u.find(".lSPager").html(o),!a.vertical&&a.gallery){var f=g.parent().find(".lSGallery");setTimeout(function(){e.setHeight(f,!1,!1)})}!0===a.gallery&&(!0===a.vertical&&u.find(".lSPager").css("width",a.vThumbWidth+"px"),b=i*(a.thumbMargin+w)+.5,u.find(".lSPager").css({property:b+"px","transition-duration":a.speed+"ms"}),!0===a.vertical&&g.parent().css("padding-right",a.vThumbWidth+a.galleryMargin+"px"),u.find(".lSPager").css(p,b+"px"));var y=u.find(".lSPager").find("li");y.first().addClass("active"),y.on("click",function(){!0===a.loop&&"slide"===a.mode?m+=y.index(this)-u.find(".lSPager").find("li.active").index():m=y.index(this),s.mode(!1),!0===a.gallery&&e.slideThumb(),clearInterval(T)})},a.pager){var t="lSpg";a.gallery&&(t="lSGallery"),g.after('<ul class="lSPager '+t+'"></ul>');var n=a.vertical?"margin-left":"margin-top";g.parent().find(".lSPager").css(n,a.galleryMargin+"px"),k.createPager()}setTimeout(function(){k.init()},0)},setHeight:function(e,t,n){var i=null;i=n?e.children(".lslide ").first():e.children().first();var a=function(){var n=i.height(),a=0,o=n;t&&(n=0,a=100*o/h),e.css({height:n+"px","padding-bottom":a+"%"})};a(),i.find("img").load(function(){setTimeout(function(){a()},100)})},active:function(e,t){this.doCss()&&"fade"===a.mode&&g.addClass("on");var n=0;if(m*a.slideMove<u){if(e.removeClass("active"),this.doCss()||"fade"!==a.mode||!1!==t||e.fadeOut(a.speed),n=!0===t?m:m*a.slideMove,!0===t){var i=(o=e.length)-1;n+1>=o&&(n=i)}if(!0===a.loop&&"slide"===a.mode&&(n=!0===t?m-s.find(".clone.left").length:m*a.slideMove,!0===t)){var o;i=(o=e.length)-1;n+1==o?n=i:n+1>o&&(n=0)}this.doCss()||"fade"!==a.mode||!1!==t||e.eq(n).fadeIn(a.speed),e.eq(n).addClass("active")}else e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==a.mode||!1!==t||(e.fadeOut(a.speed),e.eq(n).fadeIn(a.speed))},move:function(e,t){!0===a.rtl&&(t=-t),this.doCss()?!0===a.vertical?e.css({transform:"translate3d(0px, "+-t+"px, 0px)","-webkit-transform":"translate3d(0px, "+-t+"px, 0px)"}):e.css({transform:"translate3d("+-t+"px, 0px, 0px)","-webkit-transform":"translate3d("+-t+"px, 0px, 0px)"}):!0===a.vertical?e.css("position","relative").animate({top:-t+"px"},a.speed,a.easing):e.css("position","relative").animate({left:-t+"px"},a.speed,a.easing);var n=g.parent().find(".lSPager").find("li");this.active(n,!0)},fade:function(){this.active(r,!1);var e=g.parent().find(".lSPager").find("li");this.active(e,!0)},slide:function(){var e=this;k.calSlide=function(){d>h&&(y=e.slideValue(),e.active(r,!1),y>d-h-a.slideMargin?y=d-h-a.slideMargin:y<0&&(y=0),e.move(s,y),!0===a.loop&&"slide"===a.mode&&(m>=u-s.find(".clone.left").length/a.slideMove&&e.resetSlide(s.find(".clone.left").length),0===m&&e.resetSlide(g.find(".lslide").length)))},k.calSlide()},resetSlide:function(e){var t=this;g.find(".lSAction a").addClass("disabled"),setTimeout(function(){m=e,g.css("transition-duration","0ms"),y=t.slideValue(),t.active(r,!1),i.move(s,y),setTimeout(function(){g.css("transition-duration",a.speed+"ms"),g.find(".lSAction a").removeClass("disabled")},50)},a.speed+100)},slideValue:function(){var e=0;if(!1===a.autoWidth)e=m*((x+a.slideMargin)*a.slideMove);else{e=0;for(var t=0;t<m;t++)e+=parseInt(r.eq(t).width())+a.slideMargin}return e},slideThumb:function(){var e;switch(a.currentPagerPosition){case"left":e=0;break;case"middle":e=h/2-w/2;break;case"right":e=h-w}var t=m-s.find(".clone.left").length,n=g.parent().find(".lSPager");"slide"===a.mode&&!0===a.loop&&(t>=n.children().length?t=0:t<0&&(t=n.children().length));var i=t*(w+a.thumbMargin)-e;i+h>b&&(i=b-h-a.thumbMargin),i<0&&(i=0),this.move(n,i)},auto:function(){a.auto&&(T=setInterval(function(){s.goToNextSlide()},a.pause))},touchMove:function(e,t){if(g.css("transition-duration","0ms"),"slide"===a.mode){var n=y-(e-t);if(n>=d-h-a.slideMargin)if(!1===a.freeMove)n=d-h-a.slideMargin;else{var i=d-h-a.slideMargin;n=i+(n-i)/5}else n<0&&(!1===a.freeMove?n=0:n/=5);this.move(s,n)}},touchEnd:function(e){if(g.css("transition-duration",a.speed+"ms"),clearInterval(T),"slide"===a.mode){var t=!1,n=!0;(y-=e)>d-h-a.slideMargin?(y=d-h-a.slideMargin,!1===a.autoWidth&&(t=!0)):y<0&&(y=0);var i=function(e){var n=0;if(t||e&&(n=1),a.autoWidth)for(var i=0,o=0;o<r.length&&(i+=parseInt(r.eq(o).width())+a.slideMargin,m=o+n,!(i>=y));o++);else{var s=y/((x+a.slideMargin)*a.slideMove);m=parseInt(s)+n,y>=d-h-a.slideMargin&&s%1!=0&&m++}};e>=a.swipeThreshold?(i(!1),n=!1):e<=-a.swipeThreshold&&(i(!0),n=!1),s.mode(n),this.slideThumb()}else e>=a.swipeThreshold?s.goToPrevSlide():e<=-a.swipeThreshold&&s.goToNextSlide()},enableDrag:function(){var t=this;if(!S){var n=0,i=0,o=!1;g.on("mousedown",function(t){if(d<h&&0!==d)return!1;"lSPrev"!==e(t.target).attr("class")&&"lSNext"!==e(t.target).attr("class")&&(n=!0===a.vertical?t.pageY:t.pageX,o=!0,t.preventDefault())}),e(window).on("mousemove",function(e){o&&(i=!0===a.vertical?e.pageY:e.pageX,t.touchMove(i,n))}),e(window).on("mouseup",function(s){if(o){o=!1;var r=(i=!0===a.vertical?s.pageY:s.pageX)-n;Math.abs(r)>=a.swipeThreshold&&e(window).on("click.ls",function(t){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),e(window).off("click.ls")}),t.touchEnd(r)}})}},enableTouch:function(){var e=this;if(S){var t={},n={};g.on("touchstart",function(e){n=e.originalEvent.targetTouches[0],t.pageX=e.originalEvent.targetTouches[0].pageX,t.pageY=e.originalEvent.targetTouches[0].pageY}),g.on("touchmove",function(i){if(d<h&&0!==d)return!1;var o=i.originalEvent;n=o.targetTouches[0];var s=Math.abs(n.pageX-t.pageX),r=Math.abs(n.pageY-t.pageY);!0===a.vertical?(3*r>s&&i.preventDefault(),e.touchMove(n.pageY,t.pageY)):(3*s>r&&i.preventDefault(),e.touchMove(n.pageX,t.pageX))}),g.on("touchend",function(){if(d<h&&0!==d)return!1;if(!0===a.vertical)var i=n.pageY-t.pageY;else i=n.pageX-t.pageX;e.touchEnd(i)})}},build:function(){this.initialStyle(),this.auto(),this.doCss()&&(!0===a.enableTouch&&this.enableTouch(),!0===a.enableDrag&&this.enableDrag()),this.pager(),this.controls(),this.keyPress()}}).build(),k.init=function(){k.chbreakpoint(),!0===a.vertical?(h=a.item>1?a.verticalHeight:r.outerHeight(),g.css("height",h+"px")):h=g.outerWidth(),!0===a.loop&&"slide"===a.mode&&k.clone(),k.calL(),"slide"===a.mode&&s.removeClass("lSSlide"),"slide"===a.mode&&(k.calSW(),k.sSW()),setTimeout(function(){"slide"===a.mode&&s.addClass("lSSlide")},1e3),a.pager&&k.createPager(),!0===a.adaptiveHeight&&!1===a.vertical&&s.css("height",r.eq(m).height()),!0===a.gallery&&i.slideThumb(),"slide"===a.mode&&i.slide(),!1===a.autoWidth?r.length<=a.item?g.find(".lSAction").hide():g.find(".lSAction").show():k.calWidth(!1)<h&&0!==d?g.find(".lSAction").hide():g.find(".lSAction").show()},s.goToPrevSlide=function(){if(m>0)a.onBeforePrevSlide.call(this,s,m),m--,s.mode(!1),!0===a.gallery&&i.slideThumb();else if(!0===a.loop){if(a.onBeforePrevSlide.call(this,s,m),"fade"===a.mode)m=parseInt((u-1)/a.slideMove);s.mode(!1),!0===a.gallery&&i.slideThumb()}else!0===a.slideEndAnimatoin&&(s.addClass("leftEnd"),setTimeout(function(){s.removeClass("leftEnd")},400))},s.goToNextSlide=function(){var e=!0;if("slide"===a.mode)e=i.slideValue()<d-h-a.slideMargin;m*a.slideMove<u-a.slideMove&&e?(a.onBeforeNextSlide.call(this,s,m),m++,s.mode(!1),!0===a.gallery&&i.slideThumb()):!0===a.loop?(a.onBeforeNextSlide.call(this,s,m),m=0,s.mode(!1),!0===a.gallery&&i.slideThumb()):!0===a.slideEndAnimatoin&&(s.addClass("rightEnd"),setTimeout(function(){s.removeClass("rightEnd")},400))},s.mode=function(e){!0===a.adaptiveHeight&&!1===a.vertical&&s.css("height",r.eq(m).height()),!1===f&&("slide"===a.mode?i.doCss()&&(s.addClass("lSSlide"),""!==a.speed&&g.css("transition-duration",a.speed+"ms"),""!==a.cssEasing&&g.css("transition-timing-function",a.cssEasing)):i.doCss()&&(""!==a.speed&&s.css("transition-duration",a.speed+"ms"),""!==a.cssEasing&&s.css("transition-timing-function",a.cssEasing))),e||a.onBeforeSlide.call(this,s,m),"slide"===a.mode?i.slide():i.fade(),setTimeout(function(){e||a.onAfterSlide.call(this,s,m)},a.speed),f=!0},s.play=function(){clearInterval(T),s.goToNextSlide(),T=setInterval(function(){s.goToNextSlide()},a.pause)},s.pause=function(){clearInterval(T)},s.refresh=function(){k.init()},s.getCurrentSlideCount=function(){var e=m;if(a.loop){var t=g.find(".lslide").length,n=s.find(".clone.left").length;e=m<=n-1?t+(m-n):m>=t+n?m-t-n:m-n}return e+1},s.getTotalSlideCount=function(){return g.find(".lslide").length},s.goToSlide=function(e){m=a.loop?e+s.find(".clone.left").length-1:e,s.mode(!1),!0===a.gallery&&i.slideThumb()},setTimeout(function(){a.onSliderLoad.call(this,s)},10),e(window).on("resize orientationchange",function(e){setTimeout(function(){e.preventDefault(),k.init()},200)}),this}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)}(function(e){var t,n,i,a,o,s,r=function(){},l=!!window.jQuery,c=e(window),u=function(e,n){t.ev.on("mfp"+e+".mfp",n)},d=function(t,n,i,a){var o=document.createElement("div");return o.className="mfp-"+t,i&&(o.innerHTML=i),a?n&&n.appendChild(o):(o=e(o),n&&o.appendTo(n)),o},f=function(n,i){t.ev.triggerHandler("mfp"+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},h=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},g=function(){e.magnificPopup.instance||((t=new r).init(),e.magnificPopup.instance=t)};r.prototype={constructor:r,init:function(){var n=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document),t.popupsCache={}},open:function(n){var a;if(!1===n.isObj){t.items=n.items.toArray(),t.index=0;var s,r=n.items;for(a=0;a<r.length;a++)if((s=r[a]).parsed&&(s=s.el[0]),s===n.el[0]){t.index=a;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(!t.isOpen){t.types=[],o="",n.mainEl&&n.mainEl.length?t.ev=n.mainEl.eq(0):t.ev=i,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=d("bg").on("click.mfp",function(){t.close()}),t.wrap=d("wrap").attr("tabindex",-1).on("click.mfp",function(e){t._checkIfClose(e.target)&&t.close()}),t.container=d("container",t.wrap)),t.contentContainer=d("content"),t.st.preloader&&(t.preloader=d("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(a=0;a<l.length;a++){var g=l[a];g=g.charAt(0).toUpperCase()+g.slice(1),t["init"+g].call(t)}f("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(u("MarkupParse",function(e,t,n,i){n.close_replaceWith=h(i.type)}),o+=" mfp-close-btn-in"):t.wrap.append(h())),t.st.alignTop&&(o+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:c.scrollTop(),position:"absolute"}),(!1===t.st.fixedBgPos||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:i.height(),position:"absolute"}),t.st.enableEscapeKey&&i.on("keyup.mfp",function(e){27===e.keyCode&&t.close()}),c.on("resize.mfp",function(){t.updateSize()}),t.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&t.wrap.addClass(o);var m=t.wH=c.height(),p={};if(t.fixedContentPos&&t._hasScrollBar(m)){var v=t._getScrollbarSize();v&&(p.marginRight=v)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):p.overflow="hidden");var y=t.st.mainClass;return t.isIE7&&(y+=" mfp-ie7"),y&&t._addClassToMFP(y),t.updateItemHTML(),f("BuildControls"),e("html").css(p),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP("mfp-ready"),t._setFocus()):t.bgOverlay.addClass("mfp-ready"),i.on("focusin.mfp",t._onFocusIn)},16),t.isOpen=!0,t.updateSize(m),f("Open"),n}t.updateItemHTML()},close:function(){t.isOpen&&(f("BeforeClose"),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP("mfp-removing"),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){f("Close");var n="mfp-removing mfp-ready ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var a={marginRight:""};t.isIE7?e("body, html").css("overflow",""):a.overflow="",e("html").css(a)}i.off("keyup.mfp focusin.mfp"),t.ev.off(".mfp"),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&!0!==t.currTemplate[t.currItem.type]||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,f("AfterClose")},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||c.height();t.fixedContentPos||t.wrap.css("height",t.wH),f("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(f("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var o=!!t.st[i]&&t.st[i].markup;f("FirstMarkupParse",o),t.currTemplate[i]=!o||e(o)}a&&a!==n.type&&t.container.removeClass("mfp-"+a+"-holder");var s=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(s,i),n.preloaded=!0,f("Change",n),a=n.type,t.container.prepend(t.contentContainer),f("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&!0===t.currTemplate[n]?t.content.find(".mfp-close").length||t.content.append(h()):t.content=e:t.content="",f("BeforeAppend"),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,a=t.items[n];if(a.tagName?a={el:e(a)}:(i=a.type,a={data:a,src:a.src}),a.el){for(var o=t.types,s=0;s<o.length;s++)if(a.el.hasClass("mfp-"+o[s])){i=o[s];break}a.src=a.el.attr("data-mfp-src"),a.src||(a.src=a.el.attr("href"))}return a.type=i||t.st.type||"inline",a.index=n,a.parsed=!0,t.items[n]=a,f("ElementParse",a),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var a="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(a).on(a,i)):(n.isObj=!1,n.delegate?e.off(a).on(a,n.delegate,i):(n.items=e,e.off(a).on(a,i)))},_openClick:function(n,i,a){if((void 0!==a.midClick?a.midClick:e.magnificPopup.defaults.midClick)||!(2===n.which||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){var o=void 0!==a.disableOn?a.disableOn:e.magnificPopup.defaults.disableOn;if(o)if(e.isFunction(o)){if(!o.call(t))return!0}else if(c.width()<o)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),a.el=e(n.mfpEl),a.delegate&&(a.items=i.find(a.delegate)),t.open(a)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var a={status:e,text:i};f("UpdateStatus",a),e=a.status,i=a.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass("mfp-prevent-close")){var i=t.st.closeOnContentClick,a=t.st.closeOnBgClick;if(i&&a)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(a&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?i.height():document.body.scrollHeight)>(e||c.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){if(n.target!==t.wrap[0]&&!e.contains(t.wrap[0],n.target))return t._setFocus(),!1},_parseMarkup:function(t,n,i){var a;i.data&&(n=e.extend(i.data,n)),f("MarkupParse",[t,n,i]),e.each(n,function(n,i){if(void 0===i||!1===i)return!0;if((a=n.split("_")).length>1){var o=t.find(".mfp-"+a[0]);if(o.length>0){var s=a[1];"replaceWith"===s?o[0]!==i[0]&&o.replaceWith(i):"img"===s?o.is("img")?o.attr("src",i):o.replaceWith(e("<img>").attr("src",i).attr("class",o.attr("class"))):o.attr(a[1],i)}}else t.find(".mfp-"+n).html(i)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:r.prototype,modules:[],open:function(t,n){return g(),(t=t?e.extend(!0,{},t):{}).isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!1,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(n){g();var i=e(this);if("string"==typeof n)if("open"===n){var a,o=l?i.data("magnificPopup"):i[0].magnificPopup,s=parseInt(arguments[1],10)||0;o.items?a=o.items[s]:(a=i,o.delegate&&(a=a.find(o.delegate)),a=a.eq(s)),t._openClick({mfpEl:a},i,o)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),l?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var m,p,v,y=function(){v&&(p.after(v.addClass(m)).detach(),v=null)};e.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push("inline"),u("Close.inline",function(){y()})},getInline:function(n,i){if(y(),n.src){var a=t.st.inline,o=e(n.src);if(o.length){var s=o[0].parentNode;s&&s.tagName&&(p||(m=a.hiddenClass,p=d(m),m="mfp-"+m),v=o.after(p).detach().removeClass(m)),t.updateStatus("ready")}else t.updateStatus("error",a.tNotFound),o=e("<div>");return n.inlineElement=o,o}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var b,x=function(){b&&e(document.body).removeClass(b)},w=function(){x(),t.req&&t.req.abort()};e.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push("ajax"),b=t.st.ajax.cursor,u("Close.ajax",w),u("BeforeChange.ajax",w)},getAjax:function(n){b&&e(document.body).addClass(b),t.updateStatus("loading");var i=e.extend({url:n.src,success:function(i,a,o){var s={data:i,xhr:o};f("ParseAjax",s),t.appendContent(e(s.data),"ajax"),n.finished=!0,x(),t._setFocus(),setTimeout(function(){t.wrap.addClass("mfp-ready")},16),t.updateStatus("ready"),f("AjaxContentAdded")},error:function(){x(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(i),""}}});var T,S=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=t.st.image,i=".image";t.types.push("image"),u("Open"+i,function(){"image"===t.currItem.type&&n.cursor&&e(document.body).addClass(n.cursor)}),u("Close"+i,function(){n.cursor&&e(document.body).removeClass(n.cursor),c.off("resize.mfp")}),u("Resize"+i,t.resizeImage),t.isLowIE&&u("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,T&&clearInterval(T),e.isCheckingImgSize=!1,f("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],a=function(o){T&&clearInterval(T),T=setInterval(function(){i.naturalWidth>0?t._onImageHasSize(e):(n>200&&clearInterval(T),3===++n?a(10):40===n?a(50):100===n&&a(500))},o)};a(1)},getImage:function(n,i){var a=0,o=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,f("ImageLoadComplete")):++a<200?setTimeout(o,100):s())},s=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",r.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},r=t.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.el&&n.el.find("img").length&&(c.alt=n.el.find("img").attr("alt")),n.img=e(c).on("load.mfploader",o).on("error.mfploader",s),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),(c=n.img[0]).naturalWidth>0?n.hasSize=!0:c.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:S(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(T&&clearInterval(T),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",r.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var k;e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var a,o,s=n.duration,r=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,a={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return a["-webkit-"+o]=a["-moz-"+o]=a["-o-"+o]=a[o]=i,t.css(a),t},l=function(){t.content.css("visibility","visible")};u("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(a),t.content.css("visibility","hidden"),!(e=t._getItemToZoom()))return void l();(o=r(e)).css(t._getOffset()),t.wrap.append(o),a=setTimeout(function(){o.css(t._getOffset(!0)),a=setTimeout(function(){l(),setTimeout(function(){o.remove(),e=o=null,f("ZoomAnimationEnded")},16)},s)},16)}}),u("BeforeClose"+i,function(){if(t._allowZoom()){if(clearTimeout(a),t.st.removalDelay=s,!e){if(!(e=t._getItemToZoom()))return;o=r(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),u("Close"+i,function(){t._allowZoom()&&(l(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(n){var i,a=(i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem)).offset(),o=parseInt(i.css("padding-top"),10),s=parseInt(i.css("padding-bottom"),10);a.top-=e(window).scrollTop()-o;var r={width:i.width(),height:(l?i.innerHeight():i[0].offsetHeight)-s-o};return void 0===k&&(k=void 0!==document.createElement("p").style.MozTransform),k?r["-moz-transform"]=r.transform="translate("+a.left+"px,"+a.top+"px)":(r.left=a.left,r.top=a.top),r}}});var C=function(e){if(t.currTemplate.iframe){var n=t.currTemplate.iframe.find("iframe");n.length&&(e||(n[0].src="//about:blank"),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push("iframe"),u("BeforeChange",function(e,t,n){t!==n&&("iframe"===t?C():"iframe"===n&&C(!0))}),u("Close.iframe",function(){C()})},getIframe:function(n,i){var a=n.src,o=t.st.iframe;e.each(o.patterns,function(){if(a.indexOf(this.index)>-1)return this.id&&(a="string"==typeof this.id?a.substr(a.lastIndexOf(this.id)+this.id.length,a.length):this.id.call(this,a)),a=this.src.replace("%id%",a),!1});var s={};return o.srcAction&&(s[o.srcAction]=a),t._parseMarkup(i,s,n),t.updateStatus("ready"),i}}});var D=function(e){var n=t.items.length;return e>n-1?e-n:e<0?n+e:e},M=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,a=".mfp-gallery";if(t.direction=!0,!n||!n.enabled)return!1;o+=" mfp-gallery",u("Open"+a,function(){n.navigateByImgClick&&t.wrap.on("click"+a,".mfp-img",function(){if(t.items.length>1)return t.next(),!1}),i.on("keydown"+a,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),u("UpdateStatus"+a,function(e,n){n.text&&(n.text=M(n.text,t.currItem.index,t.items.length))}),u("MarkupParse"+a,function(e,i,a,o){var s=t.items.length;a.counter=s>1?M(n.tCounter,o.index,s):""}),u("BuildControls"+a,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,a=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),o=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");a.click(function(){t.prev()}),o.click(function(){t.next()}),t.container.append(a.add(o))}}),u("Change"+a,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),u("Close"+a,function(){i.off(a),t.wrap.off("click"+a),t.arrowRight=t.arrowLeft=null})},next:function(){t.direction=!0,t.index=D(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=D(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),a=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?a:i);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?i:a);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=D(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),f("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,f("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});e.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;(n=isNaN(n)?n():n)>1&&(u("ImageHasSize.retina",function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),u("ElementParse.retina",function(t,i){i.src=e.replaceSrc(i,n)}))}}}}),g()}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"function"==typeof require?e(require("jquery")):e(jQuery)}(function(e){"use strict";var t={escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}},n=27,i=9,a=13,o=38,s=39,r=40;function l(t,n){var i=function(){},a={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:l.formatResult,delimiter:null,zIndex:100000,type:"GET",noCache:!1,onSearchStart:i,onSearchComplete:i,onSearchError:i,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(e,t,n){return-1!==e.value.toLowerCase().indexOf(n)},paramName:"query",transformResult:function(t){return"string"==typeof t?e.parseJSON(t):t},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};this.element=t,this.el=e(t),this.suggestions=[],this.badQueries=[],this.selectedIndex=-1,this.currentValue=this.element.value,this.intervalId=0,this.cachedResponse={},this.onChangeInterval=null,this.onChange=null,this.isLocal=!1,this.suggestionsContainer=null,this.noSuggestionsContainer=null,this.options=e.extend({},a,n),this.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},this.hint=null,this.hintValue="",this.selection=null,this.initialize(),this.setOptions(n)}l.utils=t,e.Autocomplete=l,l.formatResult=function(e,n){if(!n)return e.value;var i="("+t.escapeRegExChars(n)+")";return e.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")},l.prototype={killerFn:null,initialize:function(){var t,n=this,i="."+n.classes.suggestion,a=n.classes.selected,o=n.options;n.element.setAttribute("autocomplete","off"),n.killerFn=function(t){0===e(t.target).closest("."+n.options.containerClass).length&&(n.killSuggestions(),n.disableKillerFn())},n.noSuggestionsContainer=e('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),n.suggestionsContainer=l.utils.createNode(o.containerClass),(t=e(n.suggestionsContainer)).appendTo(o.appendTo),"auto"!==o.width&&t.width(o.width),t.on("mouseover.autocomplete",i,function(){n.activate(e(this).data("index"))}),t.on("mouseout.autocomplete",function(){n.selectedIndex=-1,t.children("."+a).removeClass(a)}),t.on("click.autocomplete",i,function(){return n.select(e(this).data("index")),!1}),n.fixPositionCapture=function(){n.visible&&n.fixPosition()},e(window).on("resize.autocomplete",n.fixPositionCapture),n.el.on("keydown.autocomplete",function(e){n.onKeyPress(e)}),n.el.on("keyup.autocomplete",function(e){n.onKeyUp(e)}),n.el.on("blur.autocomplete",function(){n.onBlur()}),n.el.on("focus.autocomplete",function(){n.onFocus()}),n.el.on("change.autocomplete",function(e){n.onKeyUp(e)}),n.el.on("input.autocomplete",function(e){n.onKeyUp(e)})},onFocus:function(){this.fixPosition(),this.el.val().length>=this.options.minChars&&this.onValueChange()},onBlur:function(){this.enableKillerFn()},abortAjax:function(){this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null)},setOptions:function(t){var n=this.options;e.extend(n,t),this.isLocal=e.isArray(n.lookup),this.isLocal&&(n.lookup=this.verifySuggestionsFormat(n.lookup)),n.orientation=this.validateOrientation(n.orientation,"bottom"),e(this.suggestionsContainer).css({"max-height":n.maxHeight+"px",width:n.width+"px","z-index":n.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){this.disabled=!0,clearInterval(this.onChangeInterval),this.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var t=e(this.suggestionsContainer),n=t.parent().get(0);if(n===document.body||this.options.forceFixPosition){var i=this.options.orientation,a=t.outerHeight(),o=this.el.outerHeight(),s=this.el.offset(),r={top:s.top,left:s.left};if("auto"===i){var l=e(window).height(),c=e(window).scrollTop(),u=-c+s.top-a,d=c+l-(s.top+o+a);i=Math.max(u,d)===u?"top":"bottom"}if(r.top+="top"===i?-a:o,n!==document.body){var f,h=t.css("opacity");this.visible||t.css("opacity",0).show(),f=t.offsetParent().offset(),r.top-=f.top,r.left-=f.left,this.visible||t.css("opacity",h).hide()}"auto"===this.options.width&&(r.width=this.el.outerWidth()-2+"px"),t.css(r)}},enableKillerFn:function(){e(document).on("click.autocomplete",this.killerFn)},disableKillerFn:function(){e(document).off("click.autocomplete",this.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions(),e.intervalId=window.setInterval(function(){e.visible&&(e.el.val(e.currentValue),e.hide()),e.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var e,t=this.el.val().length,n=this.element.selectionStart;return"number"==typeof n?n===t:!document.selection||((e=document.selection.createRange()).moveStart("character",-t),t===e.text.length)},onKeyPress:function(e){if(this.disabled||this.visible||e.which!==r||!this.currentValue){if(!this.disabled&&this.visible){switch(e.which){case n:this.el.val(this.currentValue),this.hide();break;case s:if(this.hint&&this.options.onHint&&this.isCursorAtEnd()){this.selectHint();break}return;case i:if(this.hint&&this.options.onHint)return void this.selectHint();if(-1===this.selectedIndex)return void this.hide();if(this.select(this.selectedIndex),!1===this.options.tabDisabled)return;break;case a:if(-1===this.selectedIndex)return void this.hide();this.select(this.selectedIndex);break;case o:this.moveUp();break;case r:this.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}}else this.suggest()},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case o:case r:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(t.findBestHint(),t.options.deferRequestBy>0?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var t=this.options,n=this.el.val(),i=this.getQuery(n);this.selection&&this.currentValue!==i&&(this.selection=null,(t.onInvalidateSelection||e.noop).call(this.element)),clearInterval(this.onChangeInterval),this.currentValue=n,this.selectedIndex=-1,t.triggerSelectOnValidInput&&this.isExactMatch(i)?this.select(0):i.length<t.minChars?this.hide():this.getSuggestions(i)},isExactMatch:function(e){var t=this.suggestions;return 1===t.length&&t[0].value.toLowerCase()===e.toLowerCase()},getQuery:function(t){var n,i=this.options.delimiter;return i?(n=t.split(i),e.trim(n[n.length-1])):t},getSuggestionsLocal:function(t){var n,i=this.options,a=t.toLowerCase(),o=i.lookupFilter,s=parseInt(i.lookupLimit,10);return n={suggestions:e.grep(i.lookup,function(e){return o(e,t,a)})},s&&n.suggestions.length>s&&(n.suggestions=n.suggestions.slice(0,s)),n},getSuggestions:function(t){var n,i,a,o,s=this,r=s.options,l=r.serviceUrl;r.params[r.paramName]=t,i=r.ignoreParams?null:r.params,!1!==r.onSearchStart.call(s.element,r.params)&&(e.isFunction(r.lookup)?r.lookup(t,function(e){s.suggestions=e.suggestions,s.suggest(),r.onSearchComplete.call(s.element,t,e.suggestions)}):(s.isLocal?n=s.getSuggestionsLocal(t):(e.isFunction(l)&&(l=l.call(s.element,t)),a=l+"?"+e.param(i||{}),n=s.cachedResponse[a]),n&&e.isArray(n.suggestions)?(s.suggestions=n.suggestions,s.suggest(),r.onSearchComplete.call(s.element,t,n.suggestions)):s.isBadQuery(t)?r.onSearchComplete.call(s.element,t,[]):(s.abortAjax(),o={url:l,data:i,type:r.type,dataType:r.dataType},e.extend(o,r.ajaxSettings),s.currentRequest=e.ajax(o).done(function(e){var n;s.currentRequest=null,n=r.transformResult(e,t),s.processResponse(n,t,a),r.onSearchComplete.call(s.element,t,n.suggestions)}).fail(function(e,n,i){r.onSearchError.call(s.element,t,e,n,i)}))))},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,n=t.length;n--;)if(0===e.indexOf(t[n]))return!0;return!1},hide:function(){var t=e(this.suggestionsContainer);e.isFunction(this.options.onHide)&&this.visible&&this.options.onHide.call(this.element,t),this.visible=!1,this.selectedIndex=-1,clearInterval(this.onChangeInterval),e(this.suggestionsContainer).hide(),this.signalHint(null)},suggest:function(){if(0!==this.suggestions.length){var t,n=this.options,i=n.groupBy,a=n.formatResult,o=this.getQuery(this.currentValue),s=this.classes.suggestion,r=this.classes.selected,l=e(this.suggestionsContainer),c=e(this.noSuggestionsContainer),u=n.beforeRender,d="";n.triggerSelectOnValidInput&&this.isExactMatch(o)?this.select(0):(e.each(this.suggestions,function(e,n){i&&(d+=function(e,n){var a=e.data[i];return t===a?"":'<div class="autocomplete-group"><strong>'+(t=a)+"</strong></div>"}(n,0)),d+='<div class="'+s+'" data-index="'+e+'">'+a(n,o)+"</div>"}),this.adjustContainerWidth(),c.detach(),l.html(d),e.isFunction(u)&&u.call(this.element,l),this.fixPosition(),l.show(),n.autoSelectFirst&&(this.selectedIndex=0,l.scrollTop(0),l.children("."+s).first().addClass(r)),this.visible=!0,this.findBestHint())}else this.options.showNoSuggestionNotice?this.noSuggestions():this.hide()},noSuggestions:function(){var t=e(this.suggestionsContainer),n=e(this.noSuggestionsContainer);this.adjustContainerWidth(),n.detach(),t.empty(),t.append(n),this.fixPosition(),t.show(),this.visible=!0},adjustContainerWidth:function(){var t,n=this.options,i=e(this.suggestionsContainer);"auto"===n.width&&(t=this.el.outerWidth()-2,i.width(t>0?t:300))},findBestHint:function(){var t=this.el.val().toLowerCase(),n=null;t&&(e.each(this.suggestions,function(e,i){var a=0===i.value.toLowerCase().indexOf(t);return a&&(n=i),!a}),this.signalHint(n))},signalHint:function(t){var n="";t&&(n=this.currentValue+t.value.substr(this.currentValue.length)),this.hintValue!==n&&(this.hintValue=n,this.hint=t,(this.options.onHint||e.noop)(n))},verifySuggestionsFormat:function(t){return t.length&&"string"==typeof t[0]?e.map(t,function(e){return{value:e,data:null}}):t},validateOrientation:function(t,n){return t=e.trim(t||"").toLowerCase(),-1===e.inArray(t,["auto","bottom","top"])&&(t=n),t},processResponse:function(e,t,n){var i=this.options;e.suggestions=this.verifySuggestionsFormat(e.suggestions),i.noCache||(this.cachedResponse[n]=e,i.preventBadQueries&&0===e.suggestions.length&&this.badQueries.push(t)),t===this.getQuery(this.currentValue)&&(this.suggestions=e.suggestions,this.suggest())},activate:function(t){var n,i=this.classes.selected,a=e(this.suggestionsContainer),o=a.find("."+this.classes.suggestion);return a.find("."+i).removeClass(i),this.selectedIndex=t,-1!==this.selectedIndex&&o.length>this.selectedIndex?(n=o.get(this.selectedIndex),e(n).addClass(i),n):null},selectHint:function(){var t=e.inArray(this.hint,this.suggestions);this.select(t)},select:function(e){this.hide(),this.onSelect(e)},moveUp:function(){if(-1!==this.selectedIndex)return 0===this.selectedIndex?(e(this.suggestionsContainer).children().first().removeClass(this.classes.selected),this.selectedIndex=-1,this.el.val(this.currentValue),void this.findBestHint()):void this.adjustScroll(this.selectedIndex-1)},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(t){var n=this.activate(t);if(n){var i,a,o,s=e(n).outerHeight();i=n.offsetTop,o=(a=e(this.suggestionsContainer).scrollTop())+this.options.maxHeight-s,i<a?e(this.suggestionsContainer).scrollTop(i):i>o&&e(this.suggestionsContainer).scrollTop(i-this.options.maxHeight+s),this.options.preserveInput||this.el.val(this.getValue(this.suggestions[t].value)),this.signalHint(null)}},onSelect:function(t){var n=this.options.onSelect,i=this.suggestions[t];this.currentValue=this.getValue(i.value),this.currentValue===this.el.val()||this.options.preserveInput||this.el.val(this.currentValue),this.signalHint(null),this.suggestions=[],this.selection=i,e.isFunction(n)&&n.call(this.element,i)},getValue:function(e){var t,n,i=this.options.delimiter;return i?1===(n=(t=this.currentValue).split(i)).length?e:t.substr(0,t.length-n[n.length-1].length)+e:e},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),this.disableKillerFn(),e(window).off("resize.autocomplete",this.fixPositionCapture),e(this.suggestionsContainer).remove()}},e.fn.autocomplete_advanced=e.fn.devbridgeAutocomplete=function(t,n){return 0===arguments.length?this.first().data("autocomplete"):this.each(function(){var i=e(this),a=i.data("autocomplete");"string"==typeof t?a&&"function"==typeof a[t]&&a[t](n):(a&&a.dispose&&a.dispose(),a=new l(this,t),i.data("autocomplete",a))})}}),function(e){e.extend(e.fn,{livequery:function(t,n,i){var a,o=this;return e.isFunction(t)&&(i=n,n=t,t=void 0),e.each(e.livequery.queries,function(e,s){if(!(o.selector!=s.selector||o.context!=s.context||t!=s.type||n&&n.$lqguid!=s.fn.$lqguid||i&&i.$lqguid!=s.fn2.$lqguid))return(a=s)&&!1}),(a=a||new e.livequery(this.selector,this.context,t,n,i)).stopped=!1,a.run(),this},expire:function(t,n,i){var a=this;return e.isFunction(t)&&(i=n,n=t,t=void 0),e.each(e.livequery.queries,function(o,s){a.selector!=s.selector||a.context!=s.context||t&&t!=s.type||n&&n.$lqguid!=s.fn.$lqguid||i&&i.$lqguid!=s.fn2.$lqguid||this.stopped||e.livequery.stop(s.id)}),this}}),e.livequery=function(t,n,i,a,o){return this.selector=t,this.context=n||document,this.type=i,this.fn=a,this.fn2=o,this.elements=[],this.stopped=!1,this.id=e.livequery.queries.push(this)-1,a.$lqguid=a.$lqguid||e.livequery.guid++,o&&(o.$lqguid=o.$lqguid||e.livequery.guid++),this},e.livequery.prototype={stop:function(){var e=this;this.type?this.elements.unbind(this.type,this.fn):this.fn2&&this.elements.each(function(t,n){e.fn2.apply(n)}),this.elements=[],this.stopped=!0},run:function(){if(!this.stopped){var t=this,n=this.elements,i=e(this.selector,this.context),a=i.not(n);this.elements=i,this.type?(a.bind(this.type,this.fn),n.length>0&&e.each(n,function(n,a){e.inArray(a,i)<0&&e.event.remove(a,t.type,t.fn)})):(a.each(function(){t.fn.apply(this)}),this.fn2&&n.length>0&&e.each(n,function(n,a){e.inArray(a,i)<0&&t.fn2.apply(a)}))}}},e.extend(e.livequery,{guid:0,queries:[],queue:[],running:!1,timeout:null,checkQueue:function(){if(e.livequery.running&&e.livequery.queue.length)for(var t=e.livequery.queue.length;t--;)e.livequery.queries[e.livequery.queue.shift()].run()},pause:function(){e.livequery.running=!1},play:function(){e.livequery.running=!0,e.livequery.run()},registerPlugin:function(){e.each(arguments,function(t,n){if(e.fn[n]){var i=e.fn[n];e.fn[n]=function(){var t=i.apply(this,arguments);return e.livequery.run(),t}}})},run:function(t){null!=t?e.inArray(t,e.livequery.queue)<0&&e.livequery.queue.push(t):e.each(e.livequery.queries,function(t){e.inArray(t,e.livequery.queue)<0&&e.livequery.queue.push(t)}),e.livequery.timeout&&clearTimeout(e.livequery.timeout),e.livequery.timeout=setTimeout(e.livequery.checkQueue,20)},stop:function(t){null!=t?e.livequery.queries[t].stop():e.each(e.livequery.queries,function(t){e.livequery.queries[t].stop()})}}),e.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove"),e(function(){e.livequery.play()});var t=e.prototype.init;e.prototype.init=function(e,n){var i=t.apply(this,arguments);return e&&e.selector&&(i.context=e.context,i.selector=e.selector),"string"==typeof e&&(i.context=n||document,i.selector=e),i},e.prototype.init.prototype=e.prototype}(jQuery),function(e){"use strict";var t={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeek:["ن","ث","ع","خ","ج","س","ح"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Sen","Sel","Rab","Kam","Jum","Sab","Min"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeek:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeek:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeek:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeek:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["日","月","火","水","木","金","土"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeek:["Va","Hé","Ke","Sze","Cs","Pé","Szo"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeek:["B","Be","Ça","Ç","Ca","C","Ş"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeek:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeek:["P","E","T","K","N","R","L"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeek:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeek:["Su","Ma","Ti","Ke","To","Pe","La"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeek:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeek:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeek:["Sv","Pr","Ot","Tr","Ct","Pk","St"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeek:["нед","пон","вто","сре","чет","пет","саб"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeek:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeek:["Ne","Po","Ut","St","Št","Pi","So"]},sq:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sre","čet","Pet","Sub"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeek:["нед","пон","уто","сре","чет","пет","суб"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeek:["א'","ב'","ג'","ד'","ה'","ו'","שבת"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeek:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],disabledDates:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,i;for(n=t||0,i=this.length;n<i;n+=1)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t){return this.each(function(){var n,i,a,o,s,r=e(this),l=function(e){var t,n={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n.x=t.clientX,n.y=t.clientY):"mousedown"!==e.type&&"mouseup"!==e.type&&"mousemove"!==e.type&&"mouseover"!==e.type&&"mouseout"!==e.type&&"mouseenter"!==e.type&&"mouseleave"!==e.type||(n.x=e.clientX,n.y=e.clientY),n},c=100,u=!1,d=0,f=0,h=0,g=!1,m=0,p=function(){};"hide"!==t?(e(this).hasClass("xdsoft_scroller_box")||(n=r.children().eq(0),i=r[0].clientHeight,a=n[0].offsetHeight,o=e('<div class="xdsoft_scrollbar"></div>'),s=e('<div class="xdsoft_scroller"></div>'),o.append(s),r.addClass("xdsoft_scroller_box").append(o),p=function(e){var t=l(e).y-d+m;t<0&&(t=0),t+s[0].offsetHeight>h&&(t=h-s[0].offsetHeight),r.trigger("scroll_element.xdsoft_scroller",[c?t/c:0])},s.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(n){i||r.trigger("resize_scroll.xdsoft_scroller",[t]),d=l(n).y,m=parseInt(s.css("margin-top"),10),h=o[0].offsetHeight,"mousedown"===n.type?(document&&e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("mouseup.xdsoft_scroller",function t(){e([document.body,window]).off("mouseup.xdsoft_scroller",t).off("mousemove.xdsoft_scroller",p).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",p)):(g=!0,n.stopPropagation(),n.preventDefault())}).on("touchmove",function(e){g&&(e.preventDefault(),p(e))}).on("touchend touchcancel",function(e){g=!1,m=0}),r.on("scroll_element.xdsoft_scroller",function(e,t){i||r.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:t<0||isNaN(t)?0:t,s.css("margin-top",c*t),setTimeout(function(){n.css("marginTop",-parseInt((n[0].offsetHeight-i)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,l){var u,d;i=r[0].clientHeight,a=n[0].offsetHeight,d=(u=i/a)*o[0].offsetHeight,u>1?s.hide():(s.show(),s.css("height",parseInt(d>10?d:10,10)),c=o[0].offsetHeight-s[0].offsetHeight,!0!==l&&r.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(n.css("marginTop"),10))/(a-i)]))}),r.on("mousewheel",function(e){var t=Math.abs(parseInt(n.css("marginTop"),10));return(t-=20*e.deltaY)<0&&(t=0),r.trigger("scroll_element.xdsoft_scroller",[t/(a-i)]),e.stopPropagation(),!1}),r.on("touchstart",function(e){u=l(e),f=Math.abs(parseInt(n.css("marginTop"),10))}),r.on("touchmove",function(e){if(u){e.preventDefault();var t=l(e);r.trigger("scroll_element.xdsoft_scroller",[(f-(t.y-u.y))/(a-i)])}}),r.on("touchend touchcancel",function(e){u=!1,f=0})),r.trigger("resize_scroll.xdsoft_scroller",[t])):r.find(".xdsoft_scrollbar").hide()})},e.fn.datetimepicker=function(n){var i,a,o=17,s=13,r=27,l=37,c=38,u=39,d=40,f=9,h=116,g=65,m=67,p=86,v=90,y=89,b=!1,x=e.isPlainObject(n)||!n?e.extend(!0,{},t,n):e.extend(!0,{},t),w=0;return i=function(t){var i,a,w,T,S,k,C=e("<div "+(x.id?'id="'+x.id+'"':"")+" "+(x.style?'style="'+x.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_'+x.theme+" xdsoft_noselect "+(x.weeks?" xdsoft_showweeks":"")+x.className+'"></div>'),D=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),M=e('<div class="xdsoft_datepicker active"></div>'),O=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),I=e('<div class="xdsoft_calendar"></div>'),_=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),P=_.find(".xdsoft_time_box").eq(0),F=e('<div class="xdsoft_time_variant"></div>'),A=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),H=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),j=!1,W=0;function z(){var e,n=!1;return x.startDate?n=k.strToDate(x.startDate):(n=x.value||(t&&t.val&&t.val()?t.val():""))?n=k.strToDateTime(n):x.defaultDate&&(n=k.strToDate(x.defaultDate),x.defaultTime&&(e=k.strtotime(x.defaultTime),n.setHours(e.getHours()),n.setMinutes(e.getMinutes()))),n&&k.isValidDate(n)?C.data("changed",!0):n="",n||0}O.find(".xdsoft_month span").after(A),O.find(".xdsoft_year span").after(H),O.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(t){var n,i,a=e(this).find(".xdsoft_select").eq(0),o=0,s=0,r=a.is(":visible");for(O.find(".xdsoft_select").hide(),k.currentTime&&(o=k.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),a[r?"hide":"show"](),n=a.find("div.xdsoft_option"),i=0;i<n.length&&n.eq(i).data("value")!==o;i+=1)s+=n[0].offsetHeight;return a.xdsoftScroller(s/(a.children()[0].offsetHeight-a[0].clientHeight)),t.stopPropagation(),!1}),O.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(t){void 0!==k.currentTime&&null!==k.currentTime||(k.currentTime=k.now());var n=k.currentTime.getFullYear();k&&k.currentTime&&k.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),C.trigger("xchange.xdsoft"),x.onChangeMonth&&e.isFunction(x.onChangeMonth)&&x.onChangeMonth.call(C,k.currentTime,C.data("input")),n!==k.currentTime.getFullYear()&&e.isFunction(x.onChangeYear)&&x.onChangeYear.call(C,k.currentTime,C.data("input"))}),C.setOptions=function(n){if(x=e.extend(!0,{},x,n),n.allowTimes&&e.isArray(n.allowTimes)&&n.allowTimes.length&&(x.allowTimes=e.extend(!0,[],n.allowTimes)),n.weekends&&e.isArray(n.weekends)&&n.weekends.length&&(x.weekends=e.extend(!0,[],n.weekends)),n.disabledDates&&e.isArray(n.disabledDates)&&n.disabledDates.length&&(x.disabledDates=e.extend(!0,[],n.disabledDates)),!x.open&&!x.opened||x.inline||t.trigger("open.xdsoft"),x.inline&&(j=!0,C.addClass("xdsoft_inline"),t.after(C).hide()),x.inverseButton&&(x.next="xdsoft_prev",x.prev="xdsoft_next"),x.datepicker?M.addClass("active"):M.removeClass("active"),x.timepicker?_.addClass("active"):_.removeClass("active"),x.value&&(t&&t.val&&t.val(x.value),k.setCurrentTime(x.value)),isNaN(x.dayOfWeekStart)?x.dayOfWeekStart=0:x.dayOfWeekStart=parseInt(x.dayOfWeekStart,10)%7,x.timepickerScrollbar||P.xdsoftScroller("hide"),x.minDate&&/^-(.*)$/.test(x.minDate)&&(x.minDate=k.strToDateTime(x.minDate).dateFormat(x.formatDate)),x.maxDate&&/^\+(.*)$/.test(x.maxDate)&&(x.maxDate=k.strToDateTime(x.maxDate).dateFormat(x.formatDate)),O.find(".xdsoft_today_button").css("visibility",x.todayButton?"visible":"hidden"),x.mask){var i=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(t)};t.off("keydown.xdsoft"),!0===x.mask&&(x.mask=x.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(x.mask)&&(i(x.mask,t.val())||t.val(x.mask.replace(/[0-9]/g,"_")),t.on("keydown.xdsoft",function(n){var a,w,T=this.value,S=n.which;if(S>=48&&S<=57||S>=96&&S<=105||8===S||46===S){for(a=function(e){try{if(document.selection&&document.selection.createRange)return document.selection.createRange().getBookmark().charCodeAt(2)-2;if(e.setSelectionRange)return e.selectionStart}catch(e){return 0}}(this),w=8!==S&&46!==S?String.fromCharCode(96<=S&&S<=105?S-48:S):"_",8!==S&&46!==S||!a||(a-=1,w="_");/[^0-9_]/.test(x.mask.substr(a,1))&&a<x.mask.length&&a>0;)a+=8===S||46===S?-1:1;if(T=T.substr(0,a)+w+T.substr(a+1),""===e.trim(T))T=x.mask.replace(/[0-9]/g,"_");else if(a===x.mask.length)return n.preventDefault(),!1;for(a+=8===S||46===S?0:1;/[^0-9_]/.test(x.mask.substr(a,1))&&a<x.mask.length&&a>0;)a+=8===S||46===S?-1:1;i(x.mask,T)?(this.value=T,function(e,t){if(!(e="string"==typeof e||e instanceof String?document.getElementById(e):e))return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select(),!0}!!e.setSelectionRange&&e.setSelectionRange(t,t)}(this,a)):""===e.trim(T)?this.value=x.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft")}else if(-1!==[g,m,p,v,y].indexOf(S)&&b||-1!==[r,c,d,l,u,h,o,f,s].indexOf(S))return!0;return n.preventDefault(),!1}))}x.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){if(x.allowBlank&&!e.trim(e(this).val()).length)e(this).val(null),C.data("xdsoft_datetime").empty();else if(Date.parseDate(e(this).val(),x.format))C.data("xdsoft_datetime").setCurrentTime(e(this).val());else{var t=+[e(this).val()[0],e(this).val()[1]].join(""),n=+[e(this).val()[2],e(this).val()[3]].join("");!x.datepicker&&x.timepicker&&t>=0&&t<24&&n>=0&&n<60?e(this).val([t,n].map(function(e){return e>9?e:"0"+e}).join(":")):e(this).val(k.now().dateFormat(x.format)),C.data("xdsoft_datetime").setCurrentTime(e(this).val())}C.trigger("changedatetime.xdsoft")}),x.dayOfWeekStartPrev=0===x.dayOfWeekStart?6:x.dayOfWeekStart-1,C.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},C.data("options",x).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),H.hide(),A.hide(),!1}),P.append(F),P.xdsoftScroller(),C.on("afterOpen.xdsoft",function(){P.xdsoftScroller()}),C.append(M).append(_),!0!==x.withoutCopyright&&C.append(D),M.append(O).append(I),e(x.parentID).append(C),i=function(){var t=this;t.now=function(e){var n,i,a=new Date;return!e&&x.defaultDate&&(n=t.strToDate(x.defaultDate),a.setFullYear(n.getFullYear()),a.setMonth(n.getMonth()),a.setDate(n.getDate())),x.yearOffset&&a.setFullYear(a.getFullYear()+x.yearOffset),!e&&x.defaultTime&&(i=t.strtotime(x.defaultTime),a.setHours(i.getHours()),a.setMinutes(i.getMinutes())),a},t.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.setCurrentTime=function(e){t.currentTime="string"==typeof e?t.strToDateTime(e):t.isValidDate(e)?e:t.now(),C.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(e){return t.currentTime},t.nextMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var n,i=t.currentTime.getMonth()+1;return 12===i&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),i=0),n=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),i+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(i),x.onChangeMonth&&e.isFunction(x.onChangeMonth)&&x.onChangeMonth.call(C,k.currentTime,C.data("input")),n!==t.currentTime.getFullYear()&&e.isFunction(x.onChangeYear)&&x.onChangeYear.call(C,k.currentTime,C.data("input")),C.trigger("xchange.xdsoft"),i},t.prevMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var n=t.currentTime.getMonth()-1;return-1===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),n=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),x.onChangeMonth&&e.isFunction(x.onChangeMonth)&&x.onChangeMonth.call(C,k.currentTime,C.data("input")),C.trigger("xchange.xdsoft"),n},t.getWeekOfYear=function(e){var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},t.strToDateTime=function(e){var n,i,a=[];return e&&e instanceof Date&&t.isValidDate(e)?e:((a=/^(\+|\-)(.*)$/.exec(e))&&(a[2]=Date.parseDate(a[2],x.formatDate)),a&&a[2]?(n=a[2].getTime()-6e4*a[2].getTimezoneOffset(),i=new Date(k.now().getTime()+parseInt(a[1]+"1",10)*n)):i=e?Date.parseDate(e,x.format):t.now(),t.isValidDate(i)||(i=t.now()),i)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?Date.parseDate(e,x.formatDate):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?Date.parseDate(e,x.formatTime):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.str=function(){return t.currentTime.dateFormat(x.format)},t.currentTime=this.now()},k=new i,O.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){C.data("changed",!0),k.setCurrentTime(0),C.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){t.val(k.str()),C.trigger("close.xdsoft")}),O.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,i=!1;!function e(a){t.hasClass(x.next)?k.nextMonth():t.hasClass(x.prev)&&k.prevMonth(),x.monthChangeSpinner&&(i||(n=setTimeout(e,a||100)))}(500),e([document.body,window]).on("mouseup.xdsoft",function t(){clearTimeout(n),i=!0,e([document.body,window]).off("mouseup.xdsoft",t)})}),_.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,i=!1,a=110;!function e(o){var s=P[0].clientHeight,r=F[0].offsetHeight,l=Math.abs(parseInt(F.css("marginTop"),10));t.hasClass(x.next)&&r-s-x.timeHeightInTimePicker>=l?F.css("marginTop","-"+(l+x.timeHeightInTimePicker)+"px"):t.hasClass(x.prev)&&l-x.timeHeightInTimePicker>=0&&F.css("marginTop","-"+(l-x.timeHeightInTimePicker)+"px"),P.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(F.css("marginTop"),10)/(r-s))]),a=a>10?10:a-10,i||(n=setTimeout(e,o||a))}(500),e([document.body,window]).on("mouseup.xdsoft",function t(){clearTimeout(n),i=!0,e([document.body,window]).off("mouseup.xdsoft",t)})}),a=0,C.on("xchange.xdsoft",function(t){clearTimeout(a),a=setTimeout(function(){void 0!==k.currentTime&&null!==k.currentTime||(k.currentTime=k.now());for(var t,i,a,o,s,r,l,c="",u=new Date(k.currentTime.getFullYear(),k.currentTime.getMonth(),1,12,0,0),d=0,f=k.now(),h=!1,g=!1,m=[],p=!0,v="";u.getDay()!==x.dayOfWeekStart;)u.setDate(u.getDate()-1);for(c+="<table><thead><tr>",x.weeks&&(c+="<th></th>"),t=0;t<7;t+=1)c+="<th>"+x.i18n[x.lang].dayOfWeek[(t+x.dayOfWeekStart)%7]+"</th>";for(c+="</tr></thead>",c+="<tbody>",!1!==x.maxDate&&(h=k.strToDate(x.maxDate),h=new Date(h.getFullYear(),h.getMonth(),h.getDate(),23,59,59,999)),!1!==x.minDate&&(g=k.strToDate(x.minDate),g=new Date(g.getFullYear(),g.getMonth(),g.getDate()));d<k.currentTime.countDaysInMonth()||u.getDay()!==x.dayOfWeekStart||k.currentTime.getMonth()===u.getMonth();)m=[],d+=1,i=u.getDate(),a=u.getFullYear(),o=u.getMonth(),s=k.getWeekOfYear(u),m.push("xdsoft_date"),r=x.beforeShowDay&&e.isFunction(x.beforeShowDay.call)?x.beforeShowDay.call(C,u):null,!1!==h&&u>h||!1!==g&&u<g||r&&!1===r[0]?m.push("xdsoft_disabled"):-1!==x.disabledDates.indexOf(u.dateFormat(x.formatDate))&&m.push("xdsoft_disabled"),r&&""!==r[1]&&m.push(r[1]),k.currentTime.getMonth()!==o&&m.push("xdsoft_other_month"),(x.defaultSelect||C.data("changed"))&&k.currentTime.dateFormat(x.formatDate)===u.dateFormat(x.formatDate)&&m.push("xdsoft_current"),f.dateFormat(x.formatDate)===u.dateFormat(x.formatDate)&&m.push("xdsoft_today"),(0===u.getDay()||6===u.getDay()||~x.weekends.indexOf(u.dateFormat(x.formatDate)))&&m.push("xdsoft_weekend"),x.beforeShowDay&&e.isFunction(x.beforeShowDay)&&m.push(x.beforeShowDay(u)),p&&(c+="<tr>",p=!1,x.weeks&&(c+="<th>"+s+"</th>")),c+='<td data-date="'+i+'" data-month="'+o+'" data-year="'+a+'" class="xdsoft_date xdsoft_day_of_week'+u.getDay()+" "+m.join(" ")+'"><div>'+i+"</div></td>",u.getDay()===x.dayOfWeekStartPrev&&(c+="</tr>",p=!0),u.setDate(i+1);if(c+="</tbody></table>",I.html(c),O.find(".xdsoft_label span").eq(0).text(x.i18n[x.lang].months[k.currentTime.getMonth()]),O.find(".xdsoft_label span").eq(1).text(k.currentTime.getFullYear()),v="","",o="",l=function(e,t){var n=k.now();n.setHours(e),e=parseInt(n.getHours(),10),n.setMinutes(t),t=parseInt(n.getMinutes(),10);var i=new Date(k.currentTime);i.setHours(e),i.setMinutes(t),m=[],(!1!==x.minDateTime&&x.minDateTime>i||!1!==x.maxTime&&k.strtotime(x.maxTime).getTime()<n.getTime()||!1!==x.minTime&&k.strtotime(x.minTime).getTime()>n.getTime())&&m.push("xdsoft_disabled"),(x.initTime||x.defaultSelect||C.data("changed"))&&parseInt(k.currentTime.getHours(),10)===parseInt(e,10)&&(x.step>59||Math[x.roundTime](k.currentTime.getMinutes()/x.step)*x.step===parseInt(t,10))&&(x.defaultSelect||C.data("changed")?m.push("xdsoft_current"):x.initTime&&m.push("xdsoft_init_time")),parseInt(f.getHours(),10)===parseInt(e,10)&&parseInt(f.getMinutes(),10)===parseInt(t,10)&&m.push("xdsoft_today"),v+='<div class="xdsoft_time '+m.join(" ")+'" data-hour="'+e+'" data-minute="'+t+'">'+n.dateFormat(x.formatTime)+"</div>"},x.allowTimes&&e.isArray(x.allowTimes)&&x.allowTimes.length)for(d=0;d<x.allowTimes.length;d+=1)l(k.strtotime(x.allowTimes[d]).getHours(),o=k.strtotime(x.allowTimes[d]).getMinutes());else for(d=0,t=0;d<(x.hours12?12:24);d+=1)for(t=0;t<60;t+=x.step)l((d<10?"0":"")+d,o=(t<10?"0":"")+t);for(F.html(v),n="",d=0,d=parseInt(x.yearStart,10)+x.yearOffset;d<=parseInt(x.yearEnd,10)+x.yearOffset;d+=1)n+='<div class="xdsoft_option '+(k.currentTime.getFullYear()===d?"xdsoft_current":"")+'" data-value="'+d+'">'+d+"</div>";for(H.children().eq(0).html(n),d=0,n="";d<=11;d+=1)n+='<div class="xdsoft_option '+(k.currentTime.getMonth()===d?"xdsoft_current":"")+'" data-value="'+d+'">'+x.i18n[x.lang].months[d]+"</div>";A.children().eq(0).html(n),e(C).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){var e,t,n,i;x.timepicker&&(F.find(".xdsoft_current").length?e=".xdsoft_current":F.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=P[0].clientHeight,(n=F[0].offsetHeight)-t<(i=F.find(e).index()*x.timeHeightInTimePicker+1)&&(i=n-t),P.trigger("scroll_element.xdsoft_scroller",[parseInt(i,10)/(n-t)])):P.trigger("scroll_element.xdsoft_scroller",[0]))}),w=0,I.on("click.xdsoft","td",function(n){n.stopPropagation(),w+=1;var i=e(this),a=k.currentTime;if(null==a&&(k.currentTime=k.now(),a=k.currentTime),i.hasClass("xdsoft_disabled"))return!1;a.setDate(1),a.setFullYear(i.data("year")),a.setMonth(i.data("month")),a.setDate(i.data("date")),C.trigger("select.xdsoft",[a]),t.val(k.str()),(w>1||!0===x.closeOnDateSelect||0===x.closeOnDateSelect&&!x.timepicker)&&!x.inline&&C.trigger("close.xdsoft"),x.onSelectDate&&e.isFunction(x.onSelectDate)&&x.onSelectDate.call(C,k.currentTime,C.data("input"),n),C.data("changed",!0),C.trigger("xchange.xdsoft"),C.trigger("changedatetime.xdsoft"),setTimeout(function(){w=0},200)}),F.on("click.xdsoft","div",function(t){t.stopPropagation();var n=e(this),i=k.currentTime;if(null==i&&(k.currentTime=k.now(),i=k.currentTime),n.hasClass("xdsoft_disabled"))return!1;i.setHours(n.data("hour")),i.setMinutes(n.data("minute")),C.trigger("select.xdsoft",[i]),C.data("input").val(k.str()),x.inline||C.trigger("close.xdsoft"),x.onSelectTime&&e.isFunction(x.onSelectTime)&&x.onSelectTime.call(C,k.currentTime,C.data("input"),t),C.data("changed",!0),C.trigger("xchange.xdsoft"),C.trigger("changedatetime.xdsoft")}),M.on("mousewheel.xdsoft",function(e){return!x.scrollMonth||(e.deltaY<0?k.nextMonth():k.prevMonth(),!1)}),t.on("mousewheel.xdsoft",function(e){return!x.scrollInput||(!x.datepicker&&x.timepicker?((T=F.find(".xdsoft_current").length?F.find(".xdsoft_current").eq(0).index():0)+e.deltaY>=0&&T+e.deltaY<F.children().length&&(T+=e.deltaY),F.children().eq(T).length&&F.children().eq(T).trigger("mousedown"),!1):x.datepicker&&!x.timepicker?(M.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),t.val&&t.val(k.str()),C.trigger("changedatetime.xdsoft"),!1):void 0)}),C.on("changedatetime.xdsoft",function(t){if(x.onChangeDateTime&&e.isFunction(x.onChangeDateTime)){var n=C.data("input");x.onChangeDateTime.call(C,k.currentTime,n,t),delete x.value,n.trigger("change")}}).on("generate.xdsoft",function(){x.onGenerate&&e.isFunction(x.onGenerate)&&x.onGenerate.call(C,k.currentTime,C.data("input")),j&&(C.trigger("afterOpen.xdsoft"),j=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),T=0,S=function(){var t=C.data("input").offset(),n=t.top+C.data("input")[0].offsetHeight-1,i=t.left,a="absolute";x.fixed?(n-=e(window).scrollTop(),i-=e(window).scrollLeft(),a="fixed"):(n+C[0].offsetHeight>e(window).height()+e(window).scrollTop()&&(n=t.top-C[0].offsetHeight+1),n<0&&(n=0),i+C[0].offsetWidth>e(window).width()&&(i=e(window).width()-C[0].offsetWidth)),C.css({left:i,top:n,position:a})},C.on("open.xdsoft",function(t){var n=!0;x.onShow&&e.isFunction(x.onShow)&&(n=x.onShow.call(C,k.currentTime,C.data("input"),t)),!1!==n&&(C.show(),S(),e(window).off("resize.xdsoft",S).on("resize.xdsoft",S),x.closeOnWithoutClick&&e([document.body,window]).on("mousedown.xdsoft",function t(){C.trigger("close.xdsoft"),e([document.body,window]).off("mousedown.xdsoft",t)}))}).on("close.xdsoft",function(t){var n=!0;O.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),x.onClose&&e.isFunction(x.onClose)&&(n=x.onClose.call(C,k.currentTime,C.data("input"),t)),!1===n||x.opened||x.inline||C.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(e){C.is(":visible")?C.trigger("close.xdsoft"):C.trigger("open.xdsoft")}).data("input",t),W=0,C.data("xdsoft_datetime",k),C.setOptions(x),k.setCurrentTime(z()),t.data("xdsoft_datetimepicker",C).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(e){t.is(":disabled")||t.data("xdsoft_datetimepicker").is(":visible")&&x.closeOnInputClick||(clearTimeout(W),W=setTimeout(function(){t.is(":disabled")||(j=!0,k.setCurrentTime(z()),C.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){this.value;var n,i=t.which;return-1!==[s].indexOf(i)&&x.enterLikeTab?(n=e("input:visible,textarea:visible"),C.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[f].indexOf(i)?(C.trigger("close.xdsoft"),!0):void 0})},a=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft"),t.unmousewheel&&t.unmousewheel())},e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===o&&(b=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===o&&(b=!1)}),this.each(function(){var t,o=e(this).data("xdsoft_datetimepicker");if(o){if("string"===e.type(n))switch(n){case"show":e(this).select().focus(),o.trigger("open.xdsoft");break;case"hide":o.trigger("close.xdsoft");break;case"toggle":o.trigger("toggle.xdsoft");break;case"destroy":a(e(this));break;case"reset":this.value=this.defaultValue,this.value&&o.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,x.format))||o.data("changed",!1),o.data("xdsoft_datetime").setCurrentTime(this.value)}else o.setOptions(n);return 0}"string"!==e.type(n)&&(!x.lazyInit||x.open||x.inline?i(e(this)):(t=e(this)).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function e(n){t.is(":disabled")||t.data("xdsoft_datetimepicker")||(clearTimeout(w),w=setTimeout(function(){t.data("xdsoft_datetimepicker")||i(t),t.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",e).trigger("open.xdsoft")},100))}))})},e.fn.datetimepicker.defaults=t}(jQuery),function(){var a;a=function(e){function t(t){var s=t||window.event,r=l.call(arguments,1),c=0,d=0,f=0,h=0,g=0,m=0;if((t=e.event.fix(s)).type="mousewheel","detail"in s&&(f=-1*s.detail),"wheelDelta"in s&&(f=s.wheelDelta),"wheelDeltaY"in s&&(f=s.wheelDeltaY),"wheelDeltaX"in s&&(d=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(d=-1*f,f=0),c=0===f?d:f,"deltaY"in s&&(c=f=-1*s.deltaY),"deltaX"in s&&(d=s.deltaX,0===f&&(c=-1*d)),0!==f||0!==d){if(1===s.deltaMode){var p=e.data(this,"mousewheel-line-height");c*=p,f*=p,d*=p}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,f*=v,d*=v}if(h=Math.max(Math.abs(f),Math.abs(d)),(!o||o>h)&&(o=h,i(s,h)&&(o/=40)),i(s,h)&&(c/=40,d/=40,f/=40),c=Math[c>=1?"floor":"ceil"](c/o),d=Math[d>=1?"floor":"ceil"](d/o),f=Math[f>=1?"floor":"ceil"](f/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();g=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=d,t.deltaY=f,t.deltaFactor=o,t.offsetX=g,t.offsetY=m,t.deltaMode=0,r.unshift(t,c,d,f),a&&clearTimeout(a),a=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,r)}}function n(){o=null}function i(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var a,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=s.length;c;)e.event.fixHooks[s[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=r.length;n;)this.addEventListener(r[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=r.length;n;)this.removeEventListener(r[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){return"unixtime"==e?parseInt(this.getTime()/1e3):(null==Date.formatFunctions[e]&&Date.createNewFormat(e),this[Date.formatFunctions[e]]())},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var codePrefix="Date.prototype."+funcName+" = function() {return ",code="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;code=0==code.length?'""':code.substring(0,code.length-3),eval(codePrefix+code+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){if("unixtime"==t)return new Date(isNaN(parseInt(e))?0:1e3*parseInt(e));null==Date.parseFunctions[t]&&Date.createParser(t);var n=Date.parseFunctions[t];return Date[n](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+t+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=7-new Date(this.getFullYear(),0,1).getDay()+4;return String.leftPad(Math.ceil((e-t)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return e<0?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return e<0?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,n){var i=new String(e);for(null==n&&(n=" ");i.length<t;)i=n+i;return i},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"}}(),function(e){e.fn.stickySidebar=function(t){var n=e.extend({headerSelector:"header",navSelector:"nav",contentSelector:"#content",footerSelector:"footer",sidebarTopMargin:20,footerThreshold:40},t),i=function(){var t=e(this),i=(e(window).height(),e(window).width(),e(document).height()),a=e(n.headerSelector).outerHeight(),o=e(n.navSelector).outerHeight(),s=t.outerHeight(),r=e(n.contentSelector).outerHeight(),l=e(n.footerSelector).outerHeight(),c=e(window).scrollTop(),u=a+o+100,d=i-(s+l+n.footerThreshold);if(r>s)if(c<u)t.removeClass("sticky");else if(c>=u&&c<d)t.addClass("sticky").css("top",n.sidebarTopMargin);else{var f=d-c;t.addClass("sticky").css("top",f)}};return this.each(function(){e(window).on("scroll",e.proxy(i,this)),e(window).on("resize",e.proxy(i,this)),e.proxy(i,this)()})}}(jQuery),function(e){function t(t){if(e.mbsmessage.timer&&clearTimeout(e.mbsmessage.timer),e.mbsmessage.settings.initialized)return!0;e.mbsmessage.settings.initialized=!0,e(document).trigger("initialize.mbsmessage"),t&&e.extend(e.mbsmessage.settings,t),e("body").append(e.mbsmessage.settings.mbshtml);var n=[new Image,new Image,new Image];n[0].src=e.mbsmessage.settings.closeimage,n[1].src=e.mbsmessage.settings.leftimage,n[2].src=e.mbsmessage.settings.rightimage,e("#mbsmessage .left").html('<img src="'+e.mbsmessage.settings.leftimage+'" />'),e("#mbsmessage .right").html('<img src="'+e.mbsmessage.settings.rightimage+'" />'),e("#mbsmessage .close").click(e.mbsmessage.close),e("#mbsmessage .close").attr({src:e.mbsmessage.settings.closeimage})}e.mbsmessage=function(t,n,i){e.mbsmessage.loading(),e.mbsmessage.fillMbsmessage(t,i),n&&e.mbsmessage.startTimer()},e.extend(e.mbsmessage,{settings:{closeimage:webroot+"images/mbsmessage-images/close.gif",leftimage:webroot+"images/mbsmessage-images/left.png",rightimage:webroot+"images/mbsmessage-images/right.png",mbshtml:'\t\t\t\t<div id="mbsmessage"> \t\t\t\t<div> \t\t\t\t<div class="content">Content</div> \t\t\t\t<img src="" class="close" alt="close" /> \t\t\t\t</div> \t\t\t\t</div>'},loading:function(){t(),e("#mbsmessage").show()},fillMbsmessage:function(t,n){n&&e("#mbsmessage .content").addClass(n),e("#mbsmessage .content").html(t),e("#mbsmessage").fadeIn()},close:function(){e(document).trigger("close.mbsmessage")},startTimer:function(){e.mbsmessage.timer&&clearTimeout(e.mbsmessage.timer),e.mbsmessage.timeInterval=12,e.mbsmessage.timer=setTimeout("$.mbsmessage.checkTimer()",3e3)},checkTimer:function(){e.mbsmessage.timer&&(e.mbsmessage.timeInterval||(e.mbsmessage.timeInterval=3),e.mbsmessage.timeInterval-=3,e.mbsmessage.timeInterval<=0?(e(document).trigger("close.mbsmessage"),clearTimeout(e.mbsmessage.timer)):e.mbsmessage.timer=setTimeout("$.mbsmessage.checkTimer()",3e3))}}),e.fn.mbsmessage=function(e){t(e)},e(document).bind("close.mbsmessage",function(){e.mbsmessage.timer&&clearTimeout(e.mbsmessage.timer),e("#mbsmessage").fadeOut(function(){e("#mbsmessage .content").removeClass().addClass("content")})})}(jQuery);